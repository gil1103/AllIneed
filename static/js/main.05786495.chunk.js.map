{"version":3,"sources":["pages/HomePage.jsx","pages/About.jsx","assets/image/dot_map.png","cmps/MainNav.jsx","assets/image/grid.png","cmps/Footer.jsx","services/utilService.js","services/storageService.js","apps/Email/services/emailService.js","apps/Email/images/trash.png","apps/Email/images/mail-read.png","apps/Email/images/mail-unread.png","services/useWindowSize.js","apps/Email/cmps/EmailPreview.jsx","apps/Email/cmps/EmailList.jsx","services/eventBusService.js","apps/Email/cmps/EmailCompose.jsx","apps/Email/images/compose-btn.png","apps/Email/cmps/EmailSideBar.jsx","apps/Email/cmps/EmailSort.jsx","assets/image/search.png","cmps/Filter.jsx","cmps/Backdrop.jsx","apps/Email/cmps/EmailMobileMenu.js","apps/Email/EmailApp.jsx","apps/Email/cmps/EmailReply.jsx","apps/Email/cmps/EmailDetails.jsx","cmps/UserMsg.jsx","apps/Book/cmps/BookPreview.jsx","apps/Book/cmps/BookList.jsx","apps/Book/services/bookService.js","apps/Book/BookApp.jsx","apps/Keep/services/keepService.js","apps/Book/cmps/BookReviews.jsx","apps/Book/images/sale.png","apps/Book/cmps/BookDetails.jsx","apps/Book/cmps/AddReview.jsx","cmps/useClickOutside.jsx","apps/Keep/cmps/AddCalendarEvent .jsx","apps/Keep/cmps/ReminderForm.jsx","apps/Keep/cmps/ShareButtons.jsx","apps/Keep/cmps/UploadImage.jsx","apps/Keep/cmps/ColorPicker.jsx","apps/Keep/cmps/CanvasDrawing.jsx","apps/Keep/cmps/LongMenu.jsx","apps/Keep/cmps/ActionButtons.jsx","apps/Keep/cmps/NoteTodo.jsx","apps/Keep/cmps/NotePreview.jsx","apps/Keep/cmps/NotesList.jsx","apps/Keep/pages/KeepApp.jsx","App.js","reportWebVitals.js","index.js"],"names":["HomePage","className","About","href","MainNav","useState","isMenuOpen","setIsMenuOpen","isMobile","setIsMobile","window","addEventListener","matchMedia","matches","toggleMenu","useEffect","onClick","src","logo","alt","navData","isActive","to","Footer","utilService","makeId","length","txt","possible","i","charAt","Math","floor","random","shortenText","text","requireLength","substring","changeStempToDate","timeStamp","diff","Date","now","days","hours","minutes","notMilliSecTime","date","toLocaleString","day","month","getRandomIntInclusive","min","max","ceil","storageService","loadFromStorage","key","str","localStorage","getItem","JSON","parse","saveToStorage","val","stringify","setItem","gMails","emailService","query","emailsToShow","mails","gStarredEmails","gSentEmails","gDraftEmails","changeReadUnread","emailId","emailIdx","findIndex","mail","id","isRead","_saveMailsToStorage","removeEmail","mailId","filter","Promise","resolve","sortBy","sortByValue","sortedEmails","gFilterBy","gFilteredEmails","includes","sort","email1","email2","from","sentAt","filterEmails","searchTerm","identifier","filterByOpt","filterBy","email","Object","values","join","toLowerCase","markRead","getEmailById","find","addReply","body","sendMail","emailObj","isDraft","MY_MAIL","isStarred","KEY","subject","_createMails","useWindowSize","width","undefined","height","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","removeEventListener","EmailPreview","time","setTime","setIsRead","size","deleteEmail","event","a","preventDefault","deleteMailIcon","emailReadIcon","emailUnreadIcon","title","EmailList","emails","map","eventBusService","on","eventName","listener","callListener","detail","emit","data","CustomEvent","dispatchEvent","EmailCompose","closeModal","emailTo","setEmailTo","emailCc","setEmailCc","emailSubject","setEmailSubject","textareaVal","setTextareaVal","addressee","useRef","current","focus","onCloseModal","saveToDraft","onSendEmail","ev","onSubmit","type","placeholder","value","ref","name","autoComplete","onChange","e","target","cols","rows","trashImg","EmailSideBar","openBackdrop","closeBackdrop","isCompose","setIsCompose","navigate","useNavigate","onComposeEmail","sideBar","composeBtn","end","mobileComposeBtn","EmailSort","sortOp","setSortOp","handleChange","htmlFor","op","Filter","term","searchKeyword","isEmail","isBook","isNote","newListIconLeftDis","setFilter","windowWidth","filterWidth","inputEl","emailFilterOptions","bookFilterOptions","style","searchImg","autoFocus","paddingLeft","Backdrop","props","cssClasses","show","EmailMobileMenu","Navbar","bg","expand","Toggle","Offcanvas","placement","Header","closeButton","Title","Collapse","Nav","Link","EmailApp","emailsData","setEmailsData","setSortBy","setSearchTerm","filteredEmails","setFilteredEmails","isFiltered","setIsFilter","setShow","location","useLocation","fetchEmails","pathname","split","onRemoveEmail","onFilterBy","filterByObj","searchHandler","then","EmailReply","hideReply","emailBody","isDisabled","setIsDisabled","onSend","toUTCString","textareaForWideScreen","textareaForMobile","EmailDetails","setEmail","setEmailId","isReply","setIsReply","params","useParams","loadEmail","emailData","onGoBack","onReply","UserMsg","msg","setMsg","isShown","setIsShown","handleShowMsg","setTimeout","BookPreview","book","imgUrl","price","BookList","books","bookService","booksToShow","gBooks","isBestSeller","categories","getBookById","addReview","bookId","reviewInfo","reviews","push","bookIdx","getIndexById","slice","_saveBooksToStorage","getBookIdToRender","newIndex","filterBooks","filteredBooks","category","axios","require","gBooksCategories","_getDemoBooks","allCategoriesBooks","uniq","reduce","generalList","bookCat","concat","categoryBookList","console","error","arr","Map","v","allBookCategories","getCategoryList","allCat","bookToAdd","getRandomCategory","pos","get","res","result","items","volumeInfo","author","authors","description","rate","imageLinks","thumbnail","created","publishedDate","averageRating","isOnSale","readingLength","pageCount","ratingsCount","_createBooks","gNotes","BookApp","booksData","setBooksData","setFilteredBooks","fetchBooks","BookReviews","onlyStars","emptyStar","closeReviews","icon","solidStar","color","solidStarsArr","Array","fill","avgReview","setAvgReview","accRating","totalReviews","review","round","idx","fullName","star","BookDetails","setBook","bookDesc","setBookDesc","setBookId","showMore","setShowMore","setOnlyStars","dateLength","fixedDate","loadBook","bookData","onPagination","newBookId","onSaleImage","AddReview","onOverItem","setOnOverItem","reviewtitle","setReviewInfo","emptyStarsArr","onMouseLeaveHandler","onAddReview","onInputChange","oldValues","onMouseOver","onRate","onMouseLeave","keepService","toggleCheck","noteId","itemId","noteIdx","findIdxById","notes","itemIdx","item","isChecked","_saveNotesToStorage","uploadImage","file","imageType","note","fileUrl","url","fileType","resource_type","publicId","public_id","fileId","uploadedFile","canvasDrawing","uploadedImage","drawnImage","modifyColor","bgColor","backgroundColor","addNewTodo","newTodoTxt","newTodoItem","getNoteById","deleteItem","editItemTxt","updatedTxt","deleteMedia","deleteCanvas","editTitle","noteTitle","info","filterNotes","filteredNotes","deepSearch","addNewNote","newNote","isPinned","deleteNote","addDimToObj","noteDimensions","noteWidth","noteHeight","toggleIsPinned","obj","valToSearch","child","useClickOutside","handler","domNode","mousedownHandler","contains","document","AddCalendarEvent","dateAndTime","addReminderToEvent","bodyStr","gapi","DISCOVERY_DOCS","load","log","client","init","apiKey","clientId","discoveryDocs","scope","timeZone","duration","isoStringDate","startDate","startTime","msDuration","Number","endDate","getTime","isoStartDate","getTimezoneOffset","toISOString","isoEndDate","freq","occurrence","count","auth2","getAuthInstance","signIn","calendar","events","insert","execute","ReminderForm","closeForm","isDetailed","setDateAndTime","FormControl","variant","sx","m","minWidth","input","TextField","InputLabelProps","shrink","borderBottom","Select","labelId","label","option","MenuItem","currentTimeMili","meetingTime","timer","alert","clearTimeout","ShareButtons","WhatsappShareButton","WhatsappIcon","EmailShareButton","EmailIcon","UploadImage","isImageLoad","isBgImage","isMainMenuUpload","newImgUploaded","isLoadingImg","setIsLoadingImg","setUploadedFile","isNewImgUploaded","setIsNewImgUploaded","isLoaded","onUploadImage","files","formData","FormData","append","fetch","method","json","left","Tooltip","IconButton","ColorPicker","setBgColor","handleChangeComplete","hex","onChangeComplete","CanvasDrawing","isNewNoteWithDrw","scrollCanvasToView","newCanvasUploaded","isRefreshRequired","isUploadShown","setIsUploadShown","newNoteWithDraw","setNewNoteWithDraw","canvasWidth","setCanvasWidth","setWindowWidth","imgSrc","setImgSrc","drawingContainerRef","canvasLeftMargin","useCallback","calculateCanvasWidth","clientWidth","classes","makeStyles","theme","customHover","borderRadius","useStyles","canvasRef","drawing","getDataURL","reloadTimeout","onInsertUrl","imageUrl","header","top","eraseAll","undo","isCanvas","newNoteWithDrw","canvasHeight","lazyRadius","brushRadius","brushColor","enablePanAndZoom","hideGrid","saveData","getSaveData","boxShadow","options","LongMenu","updateNotesList","React","anchorEl","setAnchorEl","open","Boolean","handleClose","updatedNotes","currentTarget","Menu","MenuListProps","onClose","PaperProps","maxHeight","ITEM_HEIGHT","selected","ActionButtons","isImage","closeDetailedMenu","scrollNoteToView","isFormOpen","setIsFormOpen","isShareOpen","setIsShareOpen","isModifyBg","setIsModifyBg","isDrawMenuOpen","setIsDrawMenuOpen","setIsBgImage","currentNoteId","setCurrentNoteId","actionButtonsRef","acc","scrollingTiming","scrollTimeout","NoteTodo","updateIsDetailedState","isNewList","setNoteDims","updateIsPinnedStatus","deleteMediaUpdate","setIsPinned","setIsDetailed","checkedItems","setCheckedItems","unCheckedItems","setUnCheckedItems","isFinishAddingTodo","setIsFinishAddingTodo","setNewTodoTxt","mediaRemoveIconShown","setMediaRemoveIconShown","canvasRemoveIconShown","setCanvasRemoveIconShown","mediaCanvasHeight","setMediaCanvasHeight","setNoteTitle","isEmptyObj","setIsEmptyObj","setNoteHeight","mediaContainerHeight","setMediaContainerHeight","noteTodoTopPercent","newTodoRef","mediaContainerRef","windowHeight","gHightCorrectionCounter","noteTodoRef","curNoteHeight","clientHeight","curNoteWidth","calcMediaCanvasHeight","updateDimChange","HightCorrection","isImgAdded","dimensions","index","checked","updatedCheckedList","updatedUncheckedList","splice","onAddNewTodo","onDeleteItem","updatedItemsList","refreshTimeout","reload","handleItemTextChange","listToUpdate","forEach","handleTitleChange","onDeleteMedia","onDeleteCanvas","onToggleIsPinned","border","onMouseEnter","showButton","hideButton","right","overflowY","controls","ProgressBar","animated","bottom","backgroundImage","minRows","fontSize","onKeyDown","NotePreview","forwardRef","updateLeftMargin","pinnedNoteIdx","notPinnedNoteIdx","callbackNoteDim","pinnedNoteHeight","unpinnedNoteHeight","noteDimentions","setNoteDimentions","pinnedRowStackHeight","setPinnedRowStackHeight","unpinnedRowStackHeight","setUnpinnedRowStackHeight","translateX","setTranslateX","translateY","setTranslateY","horizontalGap","pinnedRowsCount","unpinnedRowsCount","pinnedColumnCount","unpinnedColumnCount","marginLeft","calculateTransX","calculateTransY","transform","isTodoDetailed","NotesList","scrollToBottom","pinnedContainerHeight","setPinnedContainerHeight","unpinnedContainerHeight","setUnpinnedContainerHeight","pinnedNotes","setPinnedNotes","unpinnedNotes","setUnpinnedNotes","pinnedHeightArr","setPinnedHeightArr","unpinnedHeightArr","setUnpinnedHeightArr","setMarginLeft","pinnedNotesRefs","unpinnedNotesRefs","endRef","notesListHeight","pinnedHeights","unpinnedHeights","dim","isPinnedList","calculateStackHeight","scrollToBtmRef","scrollIntoView","behavior","maxItemsInRow","stackingH","colIdx","finishedCol","stackHeightArr","preRowItemIdx","TotalRowsCount","rowIdx","maxStackHeightObj","prev","filteredPinned","filteredUnpinned","handleScroll","isPinnedRef","block","el","KeepApp","notesData","setNotesData","setFilteredNotes","setIsNewList","newNoteData","setNewNoteData","newNoteId","setNewNoteId","newNoteUploadedImg","setNewNoteUploadedImg","isDataUpdated","setIsDataUpdated","setScrollToBottom","footerRef","searchContainerRef","fetchNotes","hideNewTodo","isAddingFinished","onAddList","newList","onAddDraw","position","App","library","add","fab","faStarRegular","faStarSolid","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.05786495.chunk.js","sourcesContent":["import React from 'react';\r\nimport './HomePage.css'\r\n\r\nexport const HomePage = () => {\r\n    return (\r\n        <section className=\"home-page\">\r\n            <div className=\"title-container\">\r\n                <h1>AllIneed</h1>\r\n                <h2>Your favorite apps in one place</h2>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\n","import React from 'react';\r\nimport './About.css';\r\n\r\nexport const About = () => {\r\n    return (\r\n        <section className=\"about-page\">\r\n            <div className=\"about-container\">\r\n                <h1 className=\"about-header\">About</h1>\r\n                <div className=\"preface\">\r\n                    <p>Hey my name is Gil and I am a fullstack developer</p>\r\n                    <p>Started my career as a mechanical engineer and untill recentely</p>\r\n                    <p>managed large scale software projects in a global company</p>\r\n                    <p>I am a certified scrum master and hold PMP certificate from the Technion </p>\r\n                </div>\r\n                {/* <br /> */}\r\n                <strong className=\"about-sub-title\">My software education</strong>\r\n                <ul>\r\n                    <li>Graduated from development and software engineering program at the Technion</li>\r\n                    <li>Graduated from the tough coding Academy bootcamp</li>\r\n                    <li>Completed 1 year of self learning in order to deepend my programing skills \r\n                        and gain experiance through building meaningfull projects</li>\r\n                    <li>During that time I completed more than 10 projects published on my Github pages</li>\r\n                </ul>\r\n                <div className=\"github-link\">\r\n                    <a href=\"https://github.com/gil1103\">My Github</a>\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n        </section>\r\n    );\r\n};\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/dot_map.eb5140d0.png\";","import React, {useState, useEffect} from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport './MainNav.css';\r\nimport logo from '../assets/image/dot_map.png';\r\nimport menuBtn from '../assets/image/grid.png';\r\n\r\nexport const MainNav = () => {\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n    const [isMobile, setIsMobile] = useState(false);\r\n\r\n\r\n    window.addEventListener(\"resize\", function() {\r\n        if (window.matchMedia('(max-width: 760px)').matches) {\r\n            setIsMobile(true);\r\n        } else {\r\n            setIsMobile(false);\r\n        }\r\n    });\r\n\r\n    const toggleMenu = () => {\r\n        if (!isMobile) return;\r\n        isMenuOpen ? setIsMenuOpen(false) : setIsMenuOpen(true);\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n    }, [isMobile, isMenuOpen]);\r\n\r\n    return (\r\n        <>\r\n            <div className={`overlay ${ isMenuOpen ? ' overlay-shown' : '' }`} onClick={toggleMenu} ></div>\r\n            <nav className=\"main-header\">\r\n                {!isMobile && <div className=\"left-header\">\r\n                    <img className=\"logo-image\" src={logo} alt=\"logo\" />\r\n                    <h1 className=\"app-title\">AllIneed</h1>\r\n                </div>}\r\n                {isMobile && <img className=\"logo-image\" src={logo} alt=\"logo\" />}\r\n                {isMobile && <h1 className=\"app-title\">AllIneed</h1>}\r\n                <ul className={`nav-list ${ isMenuOpen ? ' nav-list-open' : '' }`}>\r\n                    <li onClick={toggleMenu}><NavLink className={navData => navData.isActive ? 'active' : ''} to='/homepage'>Home</NavLink></li>\r\n                    <li onClick={toggleMenu}><NavLink className={navData => navData.isActive ? 'active' : ''} to='/about'>About</NavLink></li>\r\n                    <li onClick={toggleMenu}><NavLink className={navData => navData.isActive ? 'active' : ''} to='/email'>Email</NavLink></li>\r\n                    <li onClick={toggleMenu}><NavLink className={navData => navData.isActive ? 'active' : ''} to='/keep'>Notes</NavLink></li>\r\n                    <li onClick={toggleMenu}><NavLink className={navData => navData.isActive ? 'active' : ''} to='/book'>Books</NavLink></li >\r\n                </ul>\r\n                {isMobile && <button className='menu-btn' onClick={toggleMenu}>\r\n                    <img src={menuBtn} alt=\"\" />\r\n                </button>}\r\n            </nav>\r\n        </>\r\n\r\n    );\r\n};\r\n","export default \"data:image/png;base64,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\"","import React from 'react'\r\nimport './Footer.css'\r\n\r\nexport const Footer = () => {\r\n  return (\r\n    <section className=\"footer\">\r\n      <small className=\"small-letters\">GH 2020 - All Rights Reserved</small>\r\n    </section>\r\n  )\r\n}\r\n","export const utilService = {\r\n\tmakeId,\r\n\tshortenText,\r\n\tchangeStempToDate,\r\n\tgetRandomIntInclusive\r\n};\r\n\r\nfunction makeId(length = 6) {\r\n\tvar txt = '';\r\n\tvar possible =\r\n\t\t'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n\tfor (var i = 0; i < length; i++) {\r\n\t\ttxt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\t}\r\n\r\n\treturn txt;\r\n}\r\n\r\nfunction shortenText(text, requireLength) {\r\n\tif (text.length < 20) return text;\r\n\t// const shortened = text.slice(0, requireLength);\r\n\treturn text.substring(0, requireLength) + '...';\r\n}\r\n\r\nfunction changeStempToDate(timeStamp) {\r\n\tconst newDate = Date.now();\r\n\tconst diff = newDate - timeStamp;\r\n\tlet days = Math.floor(diff / (1000 * 60 * 60 * 24));\r\n\tlet hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n\tlet minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\r\n\t// let seconds = Math.floor((diff % (1000 * 60)) / 1000);\r\n\tconst notMilliSecTime = new Date(timeStamp * 1000);\r\n\tif (days > 0) {\r\n\t\tlet date = notMilliSecTime.toLocaleString('en-US', { day: '2-digit' });\r\n\t\tdate += ' ' + notMilliSecTime.toLocaleString('en-US', { month: 'short' });\r\n\t\treturn date;\r\n\t}\r\n\tif (hours > 0) {\r\n\t\tlet date = hours < 10 ? '0' + hours : hours;\r\n\t\tdate += minutes < 10 ? ':0' + minutes : ':' + minutes;\r\n\t\tdate += hours < 10 ? ' AM' : ' PM';\r\n\t\treturn date;\r\n\t} else {\r\n\t\treturn 'Now';\r\n\t}\r\n}\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n\tmin = Math.ceil(min);\r\n\tmax = Math.floor(max);\r\n\treturn Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive\r\n}\r\n\r\n// function getDefaultDate() {\r\n// \treturn new Intl.DateTimeFormat('en', {\r\n// \t\tdateStyle: 'short',\r\n// \t\ttimeZone: 'Asia/Jerusalem'\r\n// \t}).format(Date.now());\r\n// }\r\n\r\n// function defaultTime() {\r\n// \tnew Intl.DateTimeFormat('en', {\r\n// \t\ttimeStyle: 'short',\r\n// \t\ttimeZone: 'Asia/Jerusalem'\r\n// \t}).format(Date.now());\r\n// }\r\n","export const storageService = {\r\n\tloadFromStorage,\r\n\tsaveToStorage\r\n};\r\n\r\nfunction loadFromStorage(key) {\r\n\tconst str = localStorage.getItem(key);\r\n\treturn JSON.parse(str);\r\n}\r\n\r\nfunction saveToStorage(key, val) {\r\n\tconst str = JSON.stringify(val);\r\n\tlocalStorage.setItem(key, str);\r\n}","import { utilService } from '../../../services/utilService.js';\r\nimport { storageService } from '../../../services/storageService.js';\r\n\r\nexport const emailService = {\r\n\tquery,\r\n\tchangeReadUnread,\r\n\tremoveEmail,\r\n\tsortBy,\r\n\tfilterEmails,\r\n\tmarkRead,\r\n\tgetEmailById,\r\n\taddReply,\r\n\tsendMail\r\n};\r\n\r\nconst KEY = 'emailsDB';\r\nconst MY_MAIL = 'gil@gmail.com';\r\nlet gMails;\r\nlet gFilteredEmails = [];\r\nlet gFilterBy = 'all';\r\nlet gStarredEmails = [];\r\nlet gSentEmails = [];\r\nlet gDraftEmails = [];\r\n_createMails();\r\n_createCategories();\r\n\r\nfunction _createMails() {\r\n\tgMails = storageService.loadFromStorage(KEY);\r\n\tif (!gMails || !gMails.length) {\r\n\t\tgMails = _getDemoMails();\r\n\t\t_saveMailsToStorage();\r\n\t\treturn gMails;\r\n\t}\r\n}\r\n\r\nfunction _createCategories() {\r\n\tgStarredEmails = gMails.filter((mail) => mail.isStarred === true);\r\n\tgSentEmails = gMails.filter((mail) => mail.from === MY_MAIL);\r\n\tgDraftEmails = gMails.filter((mail) => mail.isDraft);\r\n}\r\n\r\nfunction query(emailsToShow) {\r\n\tlet mails;\r\n\tswitch (emailsToShow) {\r\n\t\tcase 'starred':\r\n\t\t\tmails = gStarredEmails;\r\n\t\t\tbreak;\r\n\t\tcase 'sent':\r\n\t\t\tmails = gSentEmails;\r\n\t\t\tbreak;\r\n\t\tcase 'drafts':\r\n\t\t\tmails = gDraftEmails;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\treturn gMails;\r\n\t}\r\n\treturn mails;\r\n}\r\n\r\nfunction changeReadUnread(emailId) {\r\n\tconst emailIdx = gMails.findIndex((mail) => mail.id === emailId);\r\n\tgMails[emailIdx].isRead = !gMails[emailIdx].isRead;\r\n\t_saveMailsToStorage();\r\n}\r\n\r\nfunction markRead(emailId) {\r\n\tconst emailIdx = gMails.findIndex((mail) => mail.id === emailId);\r\n\tif (!emailIdx || emailIdx < 0) return;\r\n\tgMails[emailIdx].isRead = true;\r\n\t_saveMailsToStorage();\r\n}\r\n\r\nfunction sortBy(sortByValue) {\r\n\tlet mails;\r\n\tif (gFilterBy === 'all') mails = gMails;\r\n\telse mails = gFilteredEmails;\r\n\r\n\tlet sortedEmails;\r\n\tif (sortByValue.includes('from')) {\r\n\t\tif (sortByValue === 'from-asc') {\r\n\t\t\tsortedEmails = mails.sort((email1, email2) => {\r\n\t\t\t\tif (email1.from > email2.from) return 1;\r\n\t\t\t\tif (email2.from > email1.from) return -1;\r\n\t\t\t\telse return 0;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsortedEmails = mails.sort((email1, email2) => {\r\n\t\t\t\tif (email1.from > email2.from) return -1;\r\n\t\t\t\tif (email2.from > email1.from) return 1;\r\n\t\t\t\telse return 0;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tif (sortByValue.includes('date')) {\r\n\t\tif (sortByValue === 'date-asc') {\r\n\t\t\tsortedEmails = mails.sort((email1, email2) => {\r\n\t\t\t\treturn email1.sentAt - email2.sentAt;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsortedEmails = mails.sort((email1, email2) => {\r\n\t\t\t\treturn email2.sentAt - email1.sentAt;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\treturn Promise.resolve(sortedEmails);\r\n}\r\n\r\nfunction getEmailById(emailId) {\r\n\treturn gMails.find((mail) => mail.id === emailId);\r\n}\r\n\r\nfunction addReply(body, emailId) {\r\n\tconst emailIdx = gMails.findIndex((mail) => mail.id === emailId);\r\n\tgMails[emailIdx].body = body;\r\n\t_saveMailsToStorage();\r\n}\r\n\r\nfunction removeEmail(mailId) {\r\n\tgMails = gMails.filter((mail) => mail.id !== mailId);\r\n\t_saveMailsToStorage();\r\n\treturn Promise.resolve(gMails);\r\n}\r\n\r\nfunction filterEmails(searchTerm) {\r\n\tif (searchTerm.identifier === 'filterBy') {\r\n\t\tconst filterByOpt = searchTerm.filterBy;\r\n\t\tif (filterByOpt === 'all') {\r\n\t\t\tgFilterBy = 'all';\r\n\t\t\treturn gMails;\r\n\t\t}\r\n\t\tgFilteredEmails = gMails.filter((email) => {\r\n\t\t\tif (filterByOpt === 'unRead') {\r\n\t\t\t\tgFilterBy = 'unRead';\r\n\t\t\t\treturn email.isRead === false;\r\n\t\t\t} else {\r\n\t\t\t\tgFilterBy = 'isRead';\r\n\t\t\t\treturn email.isRead;\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\tgFilteredEmails = gMails.filter((email) => {\r\n\t\t\treturn Object.values(email)\r\n\t\t\t\t.join(' ')\r\n\t\t\t\t.toLowerCase()\r\n\t\t\t\t.includes(searchTerm.toLowerCase());\r\n\t\t});\r\n\t\t// const filterRegex = new RegExp(searchTerm,'i')\r\n\t\t// gFilteredEmails = gMails.filter((email) => {\r\n\t\t// \treturn filterRegex.test(email.from) || filterRegex.test(email.subject)||filterRegex.test(email.body)\r\n\t\t// });\r\n\t}\r\n\treturn gFilteredEmails;\r\n}\r\n\r\nfunction _saveMailsToStorage() {\r\n\tstorageService.saveToStorage(KEY, gMails);\r\n}\r\n\r\nfunction sendMail(emailObj, isDraft) {\r\n\tconst email = {\r\n\t\t...emailObj,\r\n\t\tfrom: MY_MAIL,\r\n\t\tid: utilService.makeId(),\r\n\t\tisRead: false,\r\n\t\tisStarred: false,\r\n\t\tisDraft: isDraft,\r\n\t\tsentAt: Date.now()\r\n\t};\r\n\tgMails = [email, ...gMails];\r\n\t_saveMailsToStorage();\r\n\t// return email\r\n}\r\n\r\nfunction _getDemoMails() {\r\n\tconst emails = [\r\n\t\t{\r\n\t\t\tfrom: 'Ani',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'Ani Sone DarDasim!?',\r\n\t\t\tbody: 'La la lala lala, sing a happy song La la lala lala, this is so wrong Oh, Im Papa Smurf. Im the head of a small group of blue people, and live in the forest with 99 sons and one daughter! Nothing weird about that no no totally normal!\" \"And Im Smurfette! And I think Im so pretty! And I betrayed Gargamel, and I dont',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1051133930594\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: MY_MAIL,\r\n\t\t\tto: 'Bar',\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'Come Back And Grow Your Instagram account?',\r\n\t\t\tbody: 'Hi There, Thanks for your recent visit to Mr. Insta. We are the Internets leading provider of quality Instagram marketing services, and our results will start appearing in',\r\n\t\t\tisRead: true,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930595\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: 'Gil',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'Meow?',\r\n\t\t\tbody: 'Top Cat The most effectual Top Cat! Whos intellectual close friends get to call him T.C., providing its with dignity. Top Cat! The indisputable leader of the gang. Hes the boss, hes a pip, hes the championship. Hes the most tip top, Top Cat.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: true,\r\n\t\t\tsentAt: 2551155530596\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: MY_MAIL,\r\n\t\t\tto: 'Yahel',\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'I WILL KILL YOU TAL !!!!!!!!!!',\r\n\t\t\tbody: 'tal Im gonna find you and then Im gonna kill you!',\r\n\t\t\tisRead: true,\r\n\t\t\tisStarred: true,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 3551137770597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: 'Rami',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'Hey Shmuel',\r\n\t\t\tbody: 'Hey shmuel73 A personal access token (git: https://github.com/ on DESKTOP-NMB15QA at 03-Dec-2019 10:32) with gist and repo scopes was recently added to your account. Visit https://github.com/settings/tokens for more information.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 9551133330597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: MY_MAIL,\r\n\t\t\tto: 'Hai',\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'I am your fathe!',\r\n\t\t\tbody: 'Thanks for taking the time to check out Discord! The best relationships in our lives were built around playing games. Memories of staying up late playing Warcraft 3 with friends or sharing creations in The Sims mean so much to us. Discords free voice and text chat is about making it easier for you to spend time with the people you care about, create these memories, and land a headshot or two..',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 2254563930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: 'Debbi',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject:\r\n\t\t\t\t'When you want to succeed as bad as you want to breathe, then youll be successful.',\r\n\t\t\tbody: 'Scissors cuts paper, paper covers rock, rock crushes lizard, lizard poisons Spock, Spock smashes scissors, scissors decapitates lizard, lizard eats paper, paper disproves Spock, Spock vaporizes rock, and as it always has, rock crushes scissors.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 3251134560597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: MY_MAIL,\r\n\t\t\tto: 'Olivier',\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'Bazinga!',\r\n\t\t\tbody: 'Theres no talent here, this is hard work. This is an obsession. Talent does not exist, we are all human beings. You could be anyone if you put in the time. You will reach the top, and thats that. I am not talented, I am obsessed',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: true,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: 'Richard',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'Pik Pikachu',\r\n\t\t\tbody: 'Pain is temporary. It may last for a minute, or an hour or a day, or even a year. But eventually, it will subside. And something else takes its place. If I quit, however, it will last forever.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: MY_MAIL,\r\n\t\t\tto: 'Reynold',\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'fuuuuk yo Mon',\r\n\t\t\tbody: 'Listen, Morty, I hate to break it to you, but what people call love is just a chemical reaction that compels animals to breed. It hits hard, Morty, then it slowly fades, leaving you stranded in a failing marriage',\r\n\t\t\tisRead: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: 'Bobi',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'I LOVE APPLES :O',\r\n\t\t\tbody: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi iure ad magni ratione consequatur explicabo enim. Eos, aperiam mollitia. Perferendis enim similique inventore quidem earum provident laboriosam minus, molestiae atque.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: MY_MAIL,\r\n\t\t\tto: 'Dudi',\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'I DONT GIVE A F***!!!!',\r\n\t\t\tbody: 'Thank you for choosing Bitdefender! Lets take a moment to set up Bitdefender Antivirus Plus 2020 on your devices. First, click on the Activate Subscription button below to link it to your Bitdefender Central account. In case you dont have an account, please create one here. Protect your devices with one account Bitdefender Central lets you remotely manage, secure, and optimize your Bitdefender-protected devices. You can use a single account to manage your subscription for one or more devices. You can manage your security from your mobile device. Anytime. Anywhere. Bitdefender Central is a companion app that empowers you to remotely manage security on your Bitdefender-protected devices directly from your smartphone. If you have any questions, you will most likely find your answers here, or you can contact our support team 24/7. Its great having you on board!The Bitdefender Team',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: 'Tami',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'lorem ipsum dolor sit amet',\r\n\t\t\tbody: 'You can accept or decline this invitation. You can also head over to https://github.com/Talmashiah/Appsus to check out the repository or visit @Talmashiah to learn a bit more about them Note: This invitation was intended for shmuel7e@gmail.com. If you were not expecting this invitation, you can ignore this email. If @Talmashiah is sending you too many emails, you can block them or report abuse..',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: true,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: MY_MAIL,\r\n\t\t\tto: 'Igal',\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'What a douchbag',\r\n\t\t\tbody: 'Specific pricing and discounts may be subject to change. Please check the Steam store page for details. You are receiving this email because the above items are on your Steam Wishlist',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: 'Chen',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'New login to Instagram from Chrome on Windows',\r\n\t\t\tbody: 'Ulysses, Ulysses  Soaring through all the galaxies. In search of Earth, flying in to the night. Ulysses, Ulysses  Fighting evil and tyranny, with all his power, and with all of his might. Ulysses  no-one else can do the things you do. Ulysses  like a bolt of thunder from the blue. Ulysses  always fighting all the evil forces bringing peace and justice to all. Hong Kong Phooey, number one super guy. Hong Kong Phooey, quicker than the human eye. Hes got style, a groovy style, and a car that just won',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: MY_MAIL,\r\n\t\t\tto: 'Herold',\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'Bitdefender Antivirus Plus 2020',\r\n\t\t\tbody: 'How have you been enjoying your recent purchase? When youve got a few minutes to spare, how about writing a review? Your experience can be a big help to other customers.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: 'Tom',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'on boots, my boss, and sending emails',\r\n\t\t\tbody: 'Hi, Thank you for being part of the HackerRank community of over 7 million developers! We just launched our 3rd annual survey on the state of developer skills and wed love your input. Whats the best place for developers to learn new skills and what new skills are they learning? What are the most in demand skills that employers are looking for in 2020? These are the questions were trying to answer to share with our community.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: true,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: 'Rick',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'Talmashiah invited you to TalmashiahAppsus',\r\n\t\t\tbody: 'Thundercats are on the move, Thundercats are loose. Feel the magic, hear the roar, Thundercats are loose. Thunder, thunder, thunder, Thundercats! Thunder, thunder, thunder, Thundercats! Thunder, thunder, thunder, Thundercats! Thunder, thunder, thunder, Thundercats! Thundercats!  I never spend much time in school but I taught ladies plenty. Its true I hire my body out for pay, hey hey. Ive gotten burned over Cheryl Tiegs, blown up for Raquel Welch. But when I end up in the hay its only hay, hey hey. I might jump an open drawbridge, or Tarzan from a vine. Cause Im the unknown stuntman that makes Eastwood look so fine.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: MY_MAIL,\r\n\t\t\tto: 'Yuval',\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: '12 items from your Steam wishlist are on sale',\r\n\t\t\tbody: 'Only once in your life, I truly believe, you find someone who can completely turn your world around. You tell them things that youve never shared with another soul and they absorb everything you say and actually want to hear more. You share hopes for the future, dreams that will never come true, goals that were never achieved and the many disappointments life has thrown at you. When something wonderful happens, you cant wait to tell them about it, knowing they will share in your excitement. They are not embarrassed to cry with you when you are hurting or laugh with you when you make a fool of yourself. Never do they hurt your feelings or make you feel like you are not good enough, but rather they build you up and show you the things about yourself that make you special and even beautiful. There is never any pressure, jealousy or competition but only a quiet calmness when they are around. You can be yourself and not worry about what they will think of you because they love you for who you are. The things that seem insignificant to most people such as a note, song or walk become invaluable treasures kept safe in your heart to cherish forever. Memories of your childhood come back and are so clear and vivid its like being young again. Colours seem brighter and more brilliant. Laughter seems part of daily life where before it was infrequent or didnt exist at all. A phone call or two during the day helps to get you through a long days work and always brings a smile to your face. In their presence, theres no need for continuous conversation, but you find youre quite content in just having them nearby. Things that never interested you before become fascinating because you know they are important to this person who is so special to you. You think of this person on every occasion and in everything you do. Simple things bring them to mind like a pale blue sky, gentle wind or even a storm cloud on the horizon. You open your heart knowing that theres a chance it may be broken one day and in opening your heart, you experience a love and joy that you never dreamed possible. You find that being vulnerable is the only way to allow your heart to feel true pleasure thats so real it scares you. You find strength in knowing you have a true friend and possibly a soul mate who will remain loyal to the end. Life seems completely different, exciting and worthwhile. Your only hope and security is in knowing that they are a part of your life.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: 'Yoav',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'Hi Shmuel!',\r\n\t\t\tbody: 'Hello shmuel, Were so glad to have you! My name is Zuzana, and over the next few days, I will be helping you to get started faster. With the Starter plan, you can collaborate with as many people as you like on up to 3 design projects.For the next 14 days of free trial, you have a chance to see for yourself how Avocode will help you and your team optimise design coding and handoff.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: MY_MAIL,\r\n\t\t\tto: 'Ruti',\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'Soaring through all the galaxies',\r\n\t\t\tbody: 'Linux at SolarEdge Technologies and 9 other jobs for you LinkedIn Ireland Unlimited Company, Wilton Plaza, Wilton Place, Dublin 2. LinkedIn is a registered business name of LinkedIn Ireland Unlimited Company. LinkedIn and the LinkedIn logo are registered trademarks of LinkedIn.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: 'Rotchild',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'Product Review for Order #410107347-0',\r\n\t\t\tbody: 'Hello shmuel, Were so glad to have you! My name is Zuzana, and over the next few days, I will be helping you to get started faster. With the Starter plan, you can collaborate with as many people as you like on up to 3 design projects.For the next 14 days of free trial, you have a chance to see for yourself how Avocode will help you and your team optimise design coding and handoff.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: 'Thebocher',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject:\r\n\t\t\t\t'Reminder: Youre invited to be part of the 2019 State of the Developer Survey',\r\n\t\t\tbody: 'Pick up4!',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: true,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: MY_MAIL,\r\n\t\t\tto: 'Alon',\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'Thundercats are loose',\r\n\t\t\tbody: 'Hello shmuel, Were so glad to have you! My name is Zuzana, and over the next few days, I will be helping you to get started faster. With the Starter plan, you can collaborate with as many people as you like on up to 3 design projects.For the next 14 days of free trial, you have a chance to see for yourself how Avocode will help you and your team optimise design coding and handoff.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: MY_MAIL,\r\n\t\t\tto: 'Jon',\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'get up stand up',\r\n\t\t\tbody: 'Hello shmuel, Were so glad to have you! My name is Zuzana, and over the next few days, I will be helping you to get started faster. With the Starter plan, you can collaborate with as many people as you like on up to 3 design projects.For the next 14 days of free trial, you have a chance to see for yourself how Avocode will help you and your team optimise design coding and handoff.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: 'Bon',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'Zuzana from Avocode',\r\n\t\t\tbody: 'Hello shmuel, Were so glad to have you! My name is Zuzana, and over the next few days, I will be helping you to get started faster. With the Starter plan, you can collaborate with as many people as you like on up to 3 design projects.For the next 14 days of free trial, you have a chance to see for yourself how Avocode will help you and your team optimise design coding and handoff.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: MY_MAIL,\r\n\t\t\tto: 'Zehava',\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'SW Application Engineer',\r\n\t\t\tbody: 'Hello shmuel, Were so glad to have you! My name is Zuzana, and over the next few days, I will be helping you to get started faster. With the Starter plan, you can collaborate with as many people as you like on up to 3 design projects.For the next 14 days of free trial, you have a chance to see for yourself how Avocode will help you and your team optimise design coding and handoff.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: true,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t},\r\n\t\t{\r\n\t\t\tfrom: 'Birdy',\r\n\t\t\tto: MY_MAIL,\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tsubject: 'How you doing?',\r\n\t\t\tbody: 'Hello shmuel, Were so glad to have you! My name is Zuzana, and over the next few days, I will be helping you to get started faster. With the Starter plan, you can collaborate with as many people as you like on up to 3 design projects.For the next 14 days of free trial, you have a chance to see for yourself how Avocode will help you and your team optimise design coding and handoff.',\r\n\t\t\tisRead: false,\r\n\t\t\tisStarred: false,\r\n\t\t\tisDraft: false,\r\n\t\t\tsentAt: 1551133930597\r\n\t\t}\r\n\t];\r\n\treturn emails;\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAB6HSURBVHic7d1r0G5nWR/w/5vsJJCEEMRyME1LQI5CBYoIgrYJKLRAoZyKMMCIFG2ZzlB7Gjq2H3Q6Y60fih07OEWn06nKqbVIzDBUCaU4oBUIZxKEoECCHCSHvZOws/d++2FFmwJJnrXWvZ5rHX6/mTXJTGbedb33c+Va/3c997OegwBTuGeSh97ueEiSC5Ocm+TsJPdKck6SM6sKnInjSY4l+fpt/zyW5PNJrkryqSRX3vbv11cVCGt1UF0ArMS5SZ6Q5Km3HY9JclppRevy2SS/c7vj67XlALBl90ryE0nem+REkkPHXo4TSd6T5FVJzr/LVwkAGjgtyTOTvCXJLam/GG79uDnJm5M8I+64ADCB05K8IMnHU3/Rc3z74+NJXpbkyB28hgCwsyPpbjV/JvUXOMduxx8leWUEAQAGenKSj6T+guYYdnw4yZO+5VUFgDvwHUlel+Rk6i9ijnHHqST/Jcl9AgB34rlJvpb6C5ej7fHVJM8OAHyTM5L8XLq/GKsvVo7pjl+Ohy8BcJsHJvk/qb84OfZz/H6SiwLApn1fki+n/qLk2O/xtSRPDACb9JQkN6T+YuSoOY4meXoA2JQXp/simuqLkKP2+EaSHw0Am/CS+Iif4/8dJyMEAKzeU+IZ/o5vPY7H2wFsjK8DZksen+R30311L3yzm9J9lfP7qguBfRAA2IoHpvv413dWF8KsfSVdUPxccR0wOV+fyRackeTX4uLPXftL6b5e2MOCWL3TqwuAPfj3SZ5XXQSLcUGSc5K8s7oQAIZ7Vjze19H/OJXk7wZWzB4A1uw+ST6Z7tv9oK+vJXlYui8SgtXxFgBr9kvxuFeGOzvJvZP8VnUhMAV3AFirJyd5T/Q44xwmeVJ8NJAVMhxZoyNJ/jDJ91YXwip8NMljk5yoLgRa8jFA1ugVcfGnnUcleVl1EdCaOwCszelJPpXku6sLYVU+k25DoLsArIY7AKzNi+PiT3sPSvKC6iKgJXcAWJODJB9J8sjqQlilT6R7O+BUdSHQgjsArMkz4uLPdB4R3xjIiggArMnLqwtg9WwGZDW8BcBa3CvJtUnOqi6EVbslyf2TXFddCIx1pLoAaOSFmffF/8Yklya5PMkV6b5u9roktxbWNAdnJDk/yUXpPrp5Sbq3cu5RWdSduFuS5yd5Q3UhAHTem/ovkPl2xzVJfjLdY2XZzdlJXpnk06l//b7d8e7JfnMAejk/3eezqy8Mtz9uSfKv0n2tLMOckeRfpFvL6tfz9setSc6b8PcGYEfPTv1F4fbHV5L80KS/8bY8Md3+jurX9fbHMyb9jWEPfAqANbi4uoDb+Vi658a/p7qQFXlfku9Pt7ZzcUl1AQB0D/+p/ovwMMmXklw48e+6ZX8l3RpXv86HST448e8KwF24Z7ons1VfEG5Od6uaaT0p89gTcDLz/aQCwCY8PvUXg8N0G/7Yj9em/vU+TPK4qX9RAO7YS1N/Ibgmdvvv05npvp2v+nV/ydS/KEzJJkCW7qHVBST5mSTHqovYkONJ/m11EZlH7wFs1ltS+1fgjUnOnfy35Judk27tK1/7N07+W8KE3AFg6S4oPv/bkxwtrmGLjiW5rLgGn/hg0QQAlq56J/blxeffsncVn7+692AUAYClqx7CVxSff8s+XHx+b/2waAIAS1c9hK8uPv+Wfbb4/L4PgEUTAFi66jsANxSff8uuLz5/dfiEUQ6qC4CRDovP7/+hWl5/GMgdAADYIAEAADZIAACADRIAAGCDBAAA2CABAAA2SAAAgA0SAABggwQAANggAQAANkgAAIANEgAAYIMEAADYIAEAADZIAACADfJd1uPcJ8ljkjz0dsd9kpyT5F63/fPMsuoAlu14kmNJvn7bP/80yVVJPpXkyiQfSvKVsuoWTgDo5+wkP5zkkiQXJ3lkrCFAlcMkH01yeZJ3JfmfSW4urWhBXLzu2mlJfiDJS5O8KMl5teUAcAduSPK2JG9JclmSk7XlzJsAcMfuluQVSf5pkouKawGgn88m+YUkv5rkG8W1zJIA8K3OTvIPk/xUkvsX1wLAONemCwKvT3JTcS2zIgD8/56V5BeTPKC4DgDa+kKSf5zkrdWFzIUA0HlAkv+Q5JnFdQAwrd9K8o+S/El1IdUEgOQ56d4juld1IQDsxQ1J/n6SN1cXUmnLDwI6K8nrkvxmXPwBtuS8JG9K8svprgWbtNU7APdOcmmSJ1QXAkCp30vyd5L8WXUh+7bFAPBdSd6R5FHVhQAwC59M8rQkn68uZJ+2FgAeluSdSS6sLgSAWfmTJD+S7hHDm7ClAHBBuls9f7W6EABm6YtJnpTkj6sL2YetbAK8d7pnRLv4A3BHLkj3COHvqC5kH7YQAM5Kt+Hv4dWFADB7j0jy9mzg0wGnVxewB69L8tzqIgBYjAvTfVTwHdWFTGntewCen+5boQCgr+cl+e/VRUxlzQHgAUmuSHLP4joAWKbrkjw6K90UuOY9AL8YF38Ahjs/3dvIq7TWAPCcdN/sBwBjPDsrvZ6s8S2As5N8Ij7yB0AbVyf5niQ3VxfS0hrvALw6Lv4AtHNRkp+oLqK1td0BOCvJZ9M97x8AWrk2yQOT3FJdSCtruwPw43HxB6C9+yd5eXURLa3pDsBpSf4o3a0aAGjtM0kenOSwupAW1nQH4G/ExR+A6TwoyQ9WF9HKmgLAS6sLAGD1VnOtWctbAHdPt0HDg38AmNINSe6XFXwkcC13AH4kLv4ATO+8JJdUF9HCWgLAKl4MABbh4uoCWlhLAFjFiwHAIjyluoAW1rAH4D5JvpR1/C4AzN+pJPdN8tXqQsZYwx2Ax8TFH4D9OS3d1wQv2hoCwEOrCwBgcxZ/7REAAKC/xV971hAAHlJdAACbIwDMwP2qCwBgcxZ/7VlDALhHdQEAbM7irz0CAAD0t/hrzxoCwLnVBQCwOYsPAGv4/PwqvpcZgMVZ9DV0DXcAAICeBAAA2CABAAA2SAAAgA0SAABggwQAANggAQAANkgAAIANEgAAYIMEAADYIAEAADZIAACADRIAAGCDBAAA2CABAAA2SAAAgA0SAABggwQAANggAQAANkgAAIANEgAAYIMEAADYIAEAADZIAACADRIAAGCDBAAA2CABAAA2SAAAgA0SAABggwQAANggAQAANmgNAeB4dQEAbM43qgsYaw0B4IbqAgDYnOurCxhrDQHg6uoCANicz1YXMNYaAsAV1QUAsDkfri5grDUEgHdVFwDA5vxudQFjHVQX0MC5Sb6U5JzqQgDYhGNJ7pfkaHUhY6zhDsDRJG+sLgKAzfj1LPzin6zjDkCSPDjJx5OcUV0IAKt2PMnDs4JNgKdXF9DInyW5R5InVRcCwKr9uyRvrS6ihbXcAUiSuyW5PMkTqgsBYJXel+TirOAhQMm6AkDSbcr4gyQXVhcCwKpck+TxSb5YXUgra9gEeHtfSvLMJF+oLgSA1fh8kqdnRRf/ZH0BIEk+kuSxSd5TXQgAi/e+dH/5f7S6kNbWsgnwm92U5DeSnEryuCRn1pYDwMIcT/LzSX4sK3ju/7ez1gCQJCeTvDvJr6Z7SNAjIggAcOeOJfnPSX403W7/k6XVTGhtmwDvzLlJnpFuB+ejk1yU5PwIBQBbdTzJdem+VO5D6T5JdllW8JAfAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaOWguoCFuSjJTyd5epL7x/oBVDtMcm2SdyT52SSfK61mQVzAdvcDSS5Lcs/qQgD4tq5L8reSvL+6kCUQAHZzTpJPp/urH4D5+mKShyS5qbqQuTutuoCF+Htx8QdYgguSvKC6iCUQAHbzuOoCANjZ91UXsAQCwG7OrC4AgJ3drbqAJRAAdnOsugAAdna0uoAlEAB2o5kAlsPM3oEAsBt3AACWw8zegQCwmxurCwBgZ2b2DgSA3bidBLAcZvYOBIDdaCaA5TCzdyAA7EYzASyHmb0DAWA3mglgOczsHQgAu7GhBGA5zOwdCAC7kSYBlsPM3oEAsBvNBLAcZvYOBIDdaCaA5TCzd3BQXcBCHCQ5EYEJYO5OJTmS5LC6kLlzQdvNYZKbqosA4C4di4v/TgSA3dlVCjB/ZvWOBIDdeU8JYP7M6h0JALvTVADzZ1bvSADYnaYCmD+zekdHqgtYEO8r1bohyaVJLk/y4SSfS3Ldbf/t/CQPSPLoJJckeUaSe+y9wnmzfuNYv+UQAGjuTel2ljr2e3wqySuS3P2uX6K/cHaSH09y1Qzqrz6sn/Xb2vGmu36JoJ9fSX1jb+k4luSfZNxdqjOS/LMkN8/g97F+yzqs33KPX9nlxYE+Xpf6xt7KcVWSR+72suzkCUmumcHvZf2WcVi/ZR+v2+1lwSbA3XlfaT8+lORJST7W8Ge+P8njk3yk4c+cK+s3jvVbPrN6RwLA7jTV9D6d5GlJvjLBz/5Cus1Z107ws+fC+o1j/dbBrN6RALA7TTWtW5K8INMM3z/3hSTPSvee7NpYv3Gs33r4xNaOBIDdaapp/XS6j1dN7QNJfm4P59k36zeO9VsPf6zR3PNTv7llrcenst9nUpyT7lZs9e9t/eZxWL91Hc/f/aXYNncAdidVTufn033d8r4cS/Izezzf1KzfONZvXcxqmvvB1CfbNR7Xp3twyr6dk+7pbtW/v/Wzfo62x5N7vA6b5g7A7uwBmMalSW4qOO+xJJcVnLc16zeO9VsfdwB2JADsTlNN4/LCc7+r8NytWL9xrN/6mNU7EgB2p6mmsY+d13dkDQ9msX7jWL/1cbd2RwLA7jTVNK4uPPdnC8/divUbx/qtjz/WdnRQXcCCHKTbKSw0tXVWkuOF576l6NytWL9xrN+6nEr3kc7D6kKWQADo58Yk51YXsTLVPbj0QWH9xrF+63JjkvOqi1gKf832420AgPkyo3sQAPrx3hLAfJnRPQgA/WgugPkyo3sQAPrRXADzZUb3IAD0o7kA5suM7kEA6McGE4D5MqN7EAD6kS4B5suM7kEA6EdzAcyXGd2DANCP5gKYLzO6BwGgH80FMF9mdA8CQD+aC2C+zOgeBIB+NBfAfJnRPQgA/WgugPkyo3sQAPrRXADzZUb3IAD04yETAPNlRvcgAPQjXQLMlxndgwDQj+YCmC8zugcBoB/NBTBfZnQPAkA/mgtgvszoHg6qC1iYgyQnIji1VN2Dh8XnH8v6jWP91uNUkiOxpjtzIevnMMmx6iIA+BZH4+LfiwDQn1tMAPNjNvckAPSnyQDmx2zuSQDoT5MBzI/Z3JMA0J8mA5gfs7knAaA/j5oEmB+zuScBoD8pE2B+zOaeBID+NBnA/JjNPQkA/WkygPkxm3sSAPrTZADzYzb3JAD0p8kA5sds7kkA6E+TAcyP2dyTANCfJgOYH7O5JwGgP00GMD9mc08CQH8eNgEwP2ZzTwJAf1ImwPyYzT0JAP1pMoD5MZt7EgD602QA82M29yQA9KfJAObHbO5JAOjPRhOA+TGbezqoLmCBDpKciPDUSnUPHhaffyzrN471W4dTSY7EevbiItbfYZJj1UUA8BeOxsW/NwFgGO81AcyHmTyAADCMZgOYDzN5AAFgGM0GMB9m8gACwDB2mwLMh5k8gAAwjLQJMB9m8gACwDCaDWA+zOQBBIBhNBvAfJjJAwgAw2g2gPkwkwcQAIax4QRgPszkAQSAYTwJEGA+zOQBBIBh3G4CmA8zeQABYBjNBjAfZvIAAsAwmg1gPszkAQSAYWw4AZgPM3kAAWAYaRNgPszkAQSAYTQbwHyYyQMIAMNoNoD5MJMHEACG0WwA82EmDyAADGPDCcB8mMkDHFQXsFAHSU5EgGqhugcPi88/lvUbx/ot36kkR2Ite3MBG+YwHj0JMAdH4+I/iAAwnPecAOqZxQMJAMNpOoB6ZvFAAsBwmg6gnlk8kAAwnF2nAPXM4oEEgOGkToB6ZvFAAsBwmg6gnlk8kAAwnKYDqGcWDyQADKfpAOqZxQMJAMPZeAJQzyweSAAYzpMAAeqZxQMJAMO57QRQzyweSAAYTtMB1DOLBxIAhvO+E0A9s3ggAWA4qROgnlk8kAAwnKYDqGcWDyQADKfpAOqZxQMJAMNpOoB6ZvFAAsBwNp4A1DOLBxIAhpM6AeqZxQMdVBewYAdJTkSIGqu6Bw+Lzz+W9RvH+i3bqSRHYh0HcfEa7jAeQQlQ6Whc/AcTAMZx6wmgjhk8ggAwjuYDqGMGjyAAjGP3KUAdM3gEAWAc6ROgjhk8ggAwjuYDqGMGjyAAjKP5AOqYwSMIAONoPoA6ZvAIAsA4NqAA1DGDRxAAxpE+AeqYwSMIAON4EiBAHTN4BAFgHOkToI4ZPIIAMI73nwDqmMEjCADjSJ8AdczgEQSAcTQfQB0zeAQBYBzNB1DHDB5BABhH8wHUMYNHEADGsQEFoI4ZPIIAMI70CVDHDB5BABhH8wHUMYNHOKguYOEOkpyIIDVGdQ8eFp9/LOs3jvVbrlNJjsQaDubCNc5hPIoSoMLRuPiPIgCM5xYUwP6ZvSMJAOPZhQqwf2bvSALAeFIowP6ZvSMJAONpQoD9M3tHEgDG04QA+2f2jiQAjKcJAfbP7B1JABjPRhSA/TN7RxIAxpNCAfbP7B1JABhPEwLsn9k7kgAwnicBAuyf2TuSADCeFAqwf2bvSALAeDaiAOyf2TuSADCeFAqwf2bvSALAeJoQYP/M3pEEgPE0IcD+mb0jCQDjaUKA/TN7RxIAxrMRBWD/zN6RBIDxpFCA/TN7RxIAxtOEAPtn9o50UF3AChwkORFhaqjqHjwsPv9Y1m8c67dMp5IcifUbxUVrvMN4JCXAPh2Ni/9oAkAbbkUB7I+Z24AA0IbdqAD7Y+Y2IAC0IY0C7I+Z24AA0IZmBNgfM7cBAaANzQiwP2ZuAwJAG5oRYH/M3AYEgDZsSAHYHzO3AQGgDWkUYH/M3AYEgDY0I8D+mLkNCABteBIgwP6YuQ0IAG14Pwpgf8zcBgSANtyOAtgfM7cBAaANzQiwP2ZuAwJAG5oRYH/M3AYEgDY0I8D+mLkNCABt2JACsD9mbgMCQBvSKMD+mLkNCABtaEaA/TFzGxAA2tCMAPtj5jZwUF3AShwkORGBaojqHjwsPv9Y1m8c67c8p5IcibUbzQWrjcN4NCXAPhyNi38TAkA7dqUCTM+sbUQAaMd7UgDTM2sbEQDa0ZQA0zNrGxEA2tGUANMzaxsRANrRlADTM2sbEQDasTEFYHpmbSMCQDtSKcD0zNpGBIB2NCXA9MzaRgSAdjQlwPTM2kYEgHY0JcD0zNpGBIB2NCXA9MzaRgSAdjQlwPTM2kYEgHY0JcD0zNpGBIB2NCXA9MzaRgSAdjycAmB6Zm0jAkA7UinA9MzaRgSAdjQlwPTM2kYEgHY0JcD0zNpGBIB2NCXA9MzaRg6qC1iRgyS3Jjm9upCFqe7Bw+Lzj2X9xrF+y3IyyRmxbk24A9DOYZJj1UUArNjRuPg3IwC05dYUwHTM2IYEgLY0J8B0zNiGBIC2NCfAdMzYhgSAtjQnwHTM2IYEgLY0J8B0zNiGBIC2PKMaYDpmbEMCQFvSKcB0zNiGBIC2NCfAdMzYhgSAtjQnwHTM2IYEgLY0J8B0zNiGBIC2NCfAdMzYhgSAtjQnwHTM2IYEgLY0J8B0zNiGBIC2NCfAdMzYhgSAtjykAmA6ZmxDAkBb0inAdMzYhgSAtjQnwHTM2IYEgLY0J8B0zNiGBIC2NCfAdMzYhg6qC1iZgyS3Jjm9upAFqe7Bw+Lzj2X9xrF+y3EyyRmxZs24A9DWYZJj1UUArNDRuPg3JQC05xYVQHtma2MCQHuaFKA9s7UxAaA9TQrQntnamADQniYFaM9sbUwAaM+jKgHaM1sbEwDak1IB2jNbGxMA2tOkAO2ZrY0JAO1pUoD2zNbGBID2NClAe2ZrYwJAe5oUoD2ztTEBoD1NCtCe2dqYANCeJgVoz2xtTABoT5MCtGe2NiYAtOdhFQDtma2NCQDtSakA7ZmtjQkA7WlSgPbM1sYEgPY0KUB7ZmtjAkB7mhSgPbO1MQGgPRtV+jmz8NxnFZ67Fes3jvVbDrO1MQGgvZuTnKwuYkHOKzz3PQvP3Yr1G8f6LcPJJLdUF7E2AkB7h0mOVRexIBcVnvuBheduxfqNY/2W4Wi62UpDAsA0vFe1u0cXnvt7C8/divUbx/otgz+qJiAATMN7Vbu7pPDcTyk8dyvWbxzrtwxm6gQOqgtYqQ8keWx1EQtxNMn9sv+Ef06SLyU5d8/nbc36jWP9luEDSR5XXcTauAMwDWl1d+cmeVHBeV+cdQxf6zeO9VsGb6uyGJem27Di2O24KskZg1Z6mDOTfGaC38P6LfOwfvM/Lh200twpdwCmIa328+Akr9nj+X4q69qBbf3GsX7zZ6ayGG9IfWJe2nFzkicMWeyenpju88TVv6/1m9dh/eZ9/Kchi82dcwdgGtJqf3dL8ptJLpzwHN+V5C1Z5xPYrN841m/ezNQJCADTsAlwmPule6/vL0/wsy9M8o4kF0zws+fC+o1j/eZLAJiAADAND60Y7q8l+WCSH2r4M5+Y5A+SPKrhz5wr6zeO9ZsnAYDFeHXq3zNb+nFzkn+d7vPSQ52Z5LXZ5nuu1s/6rel4dc+1hzIvT/3/MGs5rk3yD9JvEJ+T5FXxUSvrZ/3Wcry8x/qzI08CnMbzkry1uoiVOZrkt5NcnuSKJFcnue62/3Z+ui91eUySi5P87XjIyjezfuNYv1rPT/LfqotYGwFgGk9Lt+EHgPGeluSd1UWsjU2A07BhBaAdM3UCAsA0NCtAO2bqBASAaWhWgHbM1AkIANPwICCAdszUCQgA05BWAdoxUyfgUwDTOEhya5LTqwsBWLiTSY5UF7FG7gBM4zAeBwzQgr/+JyIATEfTAoxnlk5EAJiOpgUYzyydiAAwHU0LMJ5ZOhEBYDo+tgIwnlk6EQFgOlIrwHhm6UQEgOloWoDxzNKJCADT0bQA45mlExEApqNpAcYzSyciAEzHxhWA8czSiQgA0/EkQIDxzNKJCADTua66AIAVuL66gLUSAKbzpeoCAFbgmuoC1koAmM611QUArIBZOhEBYDruAACMJwBM5KC6gBU7K8nNscYAQx0muVuS49WFrJE7ANP5RpLPVxcBsGCfi4v/ZASAaX2gugCABftgdQFrJgBM60PVBQAsmAAwIQFgWu4AAAwnAEzIBrVp3TfdDlbrDNDPYZL7JflydSFr5Q7AtP40yRXVRQAs0Afj4j8pAWB6b68uAGCBzM6JCQDTu7S6AIAFMjsn5r3p6R2kex7ABdWFACzEtelm5mF1IWvmDsD0DpO8uboIgAX59bj4T84dgP14aJJPxnoD3JXDJA9LclV1IWvnDsB+XJnk3dVFACzAu+LivxcCwP68vroAgAUwK/fELen9OSNdqn1AcR0Ac3V1urdMb60uZAtOry5gQ04luT7Jc6oLAZip18R3qOyNOwD7dXqSjyR5RHUhADNzZZJHJjlRXchWuAOwX4fpHm35wupCAGbmVUk+UV3ElrgDsH8HSd6T5MnVhQDMxP9KcnF89n+vBIAaD0n3JUF3ry4EoNg3kjwm3bNS2CNvAdT4WrpNgU+pLgSg2L9M8rbqIrbIHYA6R5K8P8lfry4EoMgVSR4fH/sr4UFAdU4keUm6jwYCbM2N6Wagi38RAaDWlUleHhtfgG05TPJjseu/lD0A9a5McmaSH6wuBGBPfjbJf6wuYuvsAZiH05P8jyTPrC4EYGJvS/LcdBuhKSQAzMfdk/x2us/CAqzRu5I8I8kt1YUgAMzN2UneEW8HAOvz/iQ/nORodSF0BID5OT/J78THA4H1+MMkT41PPc2KTwHMz3VJ/maSS4vrAGjhnekeeubiPzM+BTBPx5O8Ocm90z0kA2CJ3pDus/43VxfCtxIA5uswyWXp/se5JO7WAMtxIsk/T/La2O0/W/YALMP3J/m1JA+qLgTgLvxxkpcm+d/VhXDn/FW5DL+f5LFJ/mt1IQB34i3pvtnPxX8BBIDluCFdqn5xki8W1wJwe19I8qIkL0zy9eJa2JE9AMvzsSSvT/ce2xPSfasgQIXjSX4pyfOSfLC4FnoSAJbp1iTvTvLGJPdN8vC4mwPsz8kkb0p34f+NdEGAhbEJcB0uSvKaJK9M9zRBgCl8I91HlP9Nui8yY8EEgHW5b5KfTPe52wcX1wKsx1XpPon0+iRfLq6FRgSA9fqedJsGX5bk/sW1AMtzTZK3ptvZ/3vpnk3CiggA2/DAdM/hfmq6bxv8ztpygBn6SrqPHL833feRfCge4rNqAsD2HKQLBA9O8pDbju9OFwrOS3JOknNv+3dgHW5I9y18x277968m+XS6W/t//s+r46/8Tfm/HW+u0ZzXrU0AAAAASUVORK5CYII=\"","export default __webpack_public_path__ + \"static/media/mail-read.55842c42.png\";","export default __webpack_public_path__ + \"static/media/mail-unread.a8df4638.png\";","import { useState, useEffect } from 'react'\r\n\r\n// Hook\r\nexport const useWindowSize = () => {\r\n\t// Initialize state with undefined width/height so server and client renders match\r\n\t// Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\r\n\tconst [windowSize, setWindowSize] = useState({\r\n\t\twidth: undefined,\r\n\t\theight: undefined\r\n\t});\r\n\tuseEffect(() => {\r\n\t\t// Handler to call on window resize\r\n\t\tfunction handleResize() {\r\n\t\t\t// Set window width/height to state\r\n\t\t\tsetWindowSize({\r\n\t\t\t\twidth: window.innerWidth,\r\n\t\t\t\theight: window.innerHeight\r\n\t\t\t});\r\n\t\t}\r\n\t\t// Add event listener\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t\t// Call handler right away so state gets updated with initial window size\r\n\t\thandleResize();\r\n\t\t// Remove event listener on cleanup\r\n\t\treturn () => window.removeEventListener('resize', handleResize);\r\n\t}, []); // Empty array ensures that effect is only run on mount\r\n\treturn windowSize;\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {utilService} from '../../../services/utilService';\r\nimport {emailService} from '../services/emailService';\r\nimport deleteMailIcon from '../images/trash.png';\r\nimport emailReadIcon from '../images/mail-read.png';\r\nimport emailUnreadIcon from '../images/mail-unread.png';\r\nimport {useWindowSize} from '../../../services/useWindowSize';\r\nimport './EmailPreview.css';\r\n\r\nexport const EmailPreview = ({email, removeEmail}) => {\r\n    const [time, setTime] = useState(null);\r\n    const [isRead, setIsRead] = useState(email.isRead);\r\n    const size = useWindowSize();\r\n\r\n    useEffect(() => {\r\n        setTime(utilService.changeStempToDate(email.sentAt));\r\n    }, [isRead, email.sentAt]);\r\n\r\n    const toggleMarkAsRead = (event) => {\r\n        event.preventDefault();\r\n        setIsRead(!isRead);\r\n        emailService.changeReadUnread(email.id);\r\n    };\r\n\r\n    const deleteEmail = async (event) => {\r\n        event.preventDefault();\r\n        await removeEmail(email.id);\r\n    };\r\n\r\n    const markAsRead = () => {\r\n        emailService.markRead(email.id);\r\n    };\r\n\r\n    const isMobile = size.width < 800 ? true : false;\r\n    return (\r\n        <Link to={`/email/${ email.id }`} onClick={markAsRead}>\r\n            <li className={`${ isRead ? 'is-read' : '' } email-preview`}>\r\n                <div className=\"email-body-container\">\r\n                    <span className=\"email-from\">{email.from}</span>\r\n                    <span className=\"email-subject\">{email.subject}</span>\r\n                    {/* <span className=\"email-body\">{size.width < 800 ? utilService.shortenText(email.body, 22) : utilService.shortenText(email.body, 60)}</span> */}\r\n                    <span className=\"email-body\">{email.body}</span>\r\n                </div>\r\n                <div className=\"time-and-actions\">\r\n                    <span>{time}</span>\r\n                    {!isMobile && <button onClick={deleteEmail}>\r\n                        <img src={deleteMailIcon} alt=\"\" />\r\n                    </button>}\r\n                    {!isMobile &&<button onClick={toggleMarkAsRead}>\r\n                        <img src={`${ isRead ? emailReadIcon : emailUnreadIcon\r\n                            }`} alt='' title={`${ isRead ? 'Mark as read' : 'Mark as unread' }`} />\r\n                    </button>}\r\n                </div>\r\n            </li>\r\n        </Link>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport {EmailPreview} from './EmailPreview';\r\nimport './EmailList.css';\r\n\r\nexport const EmailList = ({emails, removeEmail}) => {\r\n    return (\r\n        <section className=\"emails-container\">\r\n            <ul className=\"emails-list\">\r\n                {emails.map(email => {\r\n                    return (\r\n                        <EmailPreview key={email.id} email={email} removeEmail={removeEmail} />\r\n                    );\r\n                })}\r\n            </ul>\r\n        </section>\r\n    );\r\n};\r\n\r\n\r\n\r\n","function on(eventName, listener) {\r\n\tconst callListener = ({ detail }) => {\r\n\t\tlistener(detail);\r\n\t};\r\n\twindow.addEventListener(eventName, callListener);\r\n\r\n\treturn () => {\r\n\t\twindow.removeEventListener(eventName, callListener);\r\n\t};\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n\tconst event = new CustomEvent(eventName, { detail: data });\r\n\twindow.dispatchEvent(event);\r\n}\r\n\r\nexport const eventBusService = { on, emit };\r\n\r\n\r\n// function on(eventName, callback) {\r\n// \twindow.addEventListener(eventName, (e) => callback(e.detail));\r\n// }\r\n\r\n// function off(eventName, listener) {\r\n// \twindow.removeEventListener(eventName, listener);\r\n// }\r\n\r\n// function once(eventName, listener) {\r\n// \ton(eventName, handleEventOnce);\r\n\r\n// \tconst handleEventOnce = (event) => {\r\n// \t\tlistener(event);\r\n// \t\toff(eventName, handleEventOnce);\r\n// \t};\r\n// }\r\n\r\n// function dispatch(eventName, data) {\r\n// \tconst event = new CustomEvent(eventName, { detail: data });\r\n// \twindow.dispatchEvent(event);\r\n// }\r\n\r\n// export const eventBusService = { on, off, once, emit };\r\n","import React, {useRef, useState, useEffect} from 'react';\r\nimport {emailService} from \"./../services/emailService\";\r\nimport {eventBusService} from \"./../../../services/eventBusService\";\r\nimport trashImg from '../images/trash.png';\r\nimport './EmailCompose.css';\r\n\r\nexport const EmailCompose = ({closeModal}) => {\r\n  const [emailTo, setEmailTo] = useState('');\r\n  const [emailCc, setEmailCc] = useState('');\r\n  const [emailSubject, setEmailSubject] = useState('');\r\n  const [textareaVal, setTextareaVal] = useState('');\r\n  const addressee = useRef(null);\r\n\r\n  useEffect(() => {\r\n    addressee.current.focus();\r\n  }, []);\r\n\r\n  const onCloseModal = async (saveToDraft) => {\r\n    const emailObj = {\r\n      to: emailTo,\r\n      subject: emailSubject,\r\n      body: textareaVal\r\n    };\r\n    if (saveToDraft) {\r\n      const isDraft = true;\r\n      await emailService.sendMail(emailObj, isDraft);\r\n    }\r\n    closeModal(true);\r\n  };\r\n\r\n  const onSendEmail = async (ev) => {\r\n    ev.preventDefault();\r\n    eventBusService.emit('showMsg', 'Email Sent');\r\n    const emailObj = {\r\n      to: emailTo,\r\n      subject: emailSubject,\r\n      body: textareaVal\r\n    };\r\n    await emailService.sendMail(emailObj, false);\r\n    // const newEmail = await emailService.sendMail(emailObj);\r\n    closeModal(true);\r\n  };\r\n\r\n\r\n  return (\r\n    <section className=\"email-compose\">\r\n      <header>\r\n        <h1>New Message</h1>\r\n        <button className='close-btn' onClick={() => onCloseModal('saveToDraft')}>X</button>\r\n      </header>\r\n      <form className=\"compose-form\" onSubmit={onSendEmail}>\r\n        <input type=\"text\"\r\n          placeholder=\"To\"\r\n          value={emailTo}\r\n          ref={addressee}\r\n          name='to'\r\n          autoComplete=\"off\"\r\n          onChange={(e) => setEmailTo(e.target.value)} />\r\n        <input type=\"text\"\r\n          placeholder=\"Cc\"\r\n          value={emailCc}\r\n          name='cc'\r\n          autoComplete=\"off\"\r\n          onChange={(e) => setEmailCc(e.target.value)} />\r\n        <input type=\"text\"\r\n          placeholder=\"Subject\"\r\n          value={emailSubject}\r\n          name='subject'\r\n          autoComplete=\"off\"\r\n          onChange={(e) => setEmailSubject(e.target.value)} />\r\n        <textarea cols=\"90\" rows=\"10\" name=\"body\" value={textareaVal} placeholder=\"Message...\"\r\n          onChange={(e) => setTextareaVal(e.target.value)} >\r\n        </textarea>\r\n        <div className=\"button-container\">\r\n          <button type=\"submit\">Send</button>\r\n          <div onClick={onCloseModal} className=\"trash\">\r\n            <img src={trashImg} alt=\"\" />\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/compose-btn.14100e6f.png\";","import React, {useState, useEffect} from 'react';\r\nimport {NavLink, useNavigate} from 'react-router-dom';\r\nimport {EmailCompose} from './EmailCompose';\r\nimport './EmailSideBar.css';\r\nimport composeBtn from '../images/compose-btn.png';\r\n\r\nexport const EmailSideBar = ({openBackdrop, closeBackdrop, isMobile}) => {\r\n  const [isCompose, setIsCompose] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const onComposeEmail = () => {\r\n    setIsCompose(!isCompose);\r\n    openBackdrop();\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setIsCompose(false);\r\n    closeBackdrop();\r\n    navigate('/email');\r\n  };\r\n\r\n  useEffect(() => {\r\n\r\n  }, [isMobile]);\r\n\r\n  const sideBar = <section className=\"side-bar\">\r\n    <button className=\"compose\" onClick={onComposeEmail}>\r\n      <img src={composeBtn} alt=\"\" />\r\n      <span>Compose</span>\r\n    </button>\r\n    <NavLink className={navData => navData.isActive ? 'active' : ''} end to=\"/email\">Inbox</NavLink>\r\n    <NavLink className={navData => navData.isActive ? 'active' : ''} to=\"/email/starred\">Starred</NavLink>\r\n    <NavLink className={navData => navData.isActive ? 'active' : ''} to=\"/email/sent\">Sent</NavLink>\r\n    <NavLink className={navData => navData.isActive ? 'active' : ''} to=\"/email/drafts\">Drafts</NavLink>\r\n    {isCompose && <EmailCompose isMobile={isMobile} closeModal={closeModal} />}\r\n  </section>;\r\n\r\n  const mobileComposeBtn = (\r\n    <>\r\n      <button className=\"compose compose-mobile\" onClick={onComposeEmail}>\r\n        <img src={composeBtn} alt=\"\" />\r\n        <span>Compose</span>\r\n      </button>\r\n      {isCompose && <EmailCompose isMobile={isMobile} closeModal={closeModal} />}\r\n    </>);\r\n  return (\r\n    <>\r\n      {!isMobile && sideBar}\r\n      {isMobile && mobileComposeBtn}\r\n    </>\r\n  );\r\n};\r\n\r\n","import React, {useState} from 'react';\r\nimport './EmailSort.css'\r\n\r\nexport const EmailSort = ({sortBy}) => {\r\n  const [sortOp, setSortOp] = useState('from-asc');\r\n  const options = ['from-asc', 'from-des', 'date-asc', 'date-des'];\r\n\r\n  const handleChange = async (e) => {\r\n    e.preventDefault();\r\n    setSortOp(e.target.value);\r\n    await sortBy(sortOp);\r\n  };\r\n\r\n  return (\r\n    <section className=\"sort-by\">\r\n      <label htmlFor=\"sort\">\r\n        <span>Sort By:</span>\r\n        <select name=\"sort\" id=\"sort\" value={sortOp} onChange={handleChange}>\r\n          {options.map((op, key) => {\r\n            return (\r\n              <option key={key} value={op}>{op}</option>\r\n            );\r\n          })}\r\n        </select>\r\n      </label>\r\n    </section>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/search.1d92f967.png\";","import React, {useState, useRef} from 'react';\r\nimport {useWindowSize} from \"./../services/useWindowSize\";\r\nimport searchImg from '../assets/image/search.png';\r\nimport './Filter.css';\r\n\r\nexport const Filter = ({term, searchKeyword, filterBy, isEmail, isBook, isNote, newListIconLeftDis}) => {\r\n    const [filter, setFilter] = useState('all');\r\n    const size = useWindowSize();\r\n    const windowWidth = size.width;\r\n    const filterWidth = windowWidth - 2 * (windowWidth - (newListIconLeftDis + 130));\r\n\r\n    const inputEl = useRef();\r\n    const placeholder = \"Search \" + (isEmail ? \"mail\" : isBook ? \"book\" : \"note\") + (isNote ? ' ...' : '');\r\n    const emailFilterOptions = <>\r\n        <option value=\"all\">All</option>\r\n        <option value=\"isRead\">Read</option>\r\n        <option value=\"unRead\">Unread</option>\r\n    </>;\r\n\r\n    const bookFilterOptions = <>\r\n        <option value=\"all\">All</option>\r\n        <option value=\"fantasy\">Fantasy</option>\r\n        <option value=\"fiction\">Fiction</option>\r\n        <option value=\"photography\">Photography</option>\r\n        <option value=\"history\">History</option>\r\n        <option value=\"education\">Education</option>\r\n        <option value=\"art\">Art</option>\r\n        <option value=\"adventure\">Adventure</option>\r\n    </>;\r\n\r\n    const getSearchTerm = () => {\r\n        //instead of using event.target.value\r\n        searchKeyword(inputEl.current.value);\r\n    };\r\n\r\n    const handleChange = (ev) => {\r\n        setFilter(ev.target.value);\r\n        filterBy(ev.target.value);\r\n    };\r\n\r\n    return (\r\n        <section className={`filter ${ isBook?'booksFilter':'' }`}\r\n            style={{width: `${ isNote ? (filterWidth) : null }px`}}>\r\n            {!isNote && <img src={searchImg} alt=\"\" />}\r\n            <input\r\n                type=\"text\"\r\n                placeholder={placeholder}\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n                name=\"txt\"\r\n                value={term}\r\n                className=\"filter-by-name\"\r\n                onChange={getSearchTerm}\r\n                ref={inputEl}\r\n                style={{paddingLeft: `${ isNote ? '10px' : '' }`}}\r\n            />\r\n            {!isNote && <select name=\"option\" value={filter} onChange={handleChange} className=\"filter-option\">\r\n                {isEmail && emailFilterOptions}\r\n                {isBook && bookFilterOptions}\r\n            </select>}\r\n        </section>\r\n    );\r\n};;\r\n\r\n\r\n\r\n\r\n\r\n// export class MailFilter extends React.Component {\r\n\r\n//     state = {\r\n//         filterBy: {\r\n//             subject: ''\r\n//         }\r\n//     };\r\n\r\n//     handleChange = (ev) => {\r\n//         const callback = () => {\r\n//             this.props.setFilter(this.state.filterBy);\r\n//         };\r\n\r\n//         const filterBy = { ...this.state.filterBy }\r\n//         filterBy[ev.target.name] = ev.target.value;\r\n\r\n//         this.setState({ filterBy }, callback);\r\n//     };\r\n\r\n//     render() {\r\n//         return <section className=\"mail-filter\">\r\n//             <input type=\"text\" name=\"subject\"\r\n//                 value={this.state.filterBy.name}\r\n//                 placeholder=\"Filter by subject\"\r\n//                 autoComplete=\"off\"\r\n//                 onChange={this.handleChange} />\r\n//         </section>;\r\n//     }\r\n\r\n// }","import React from 'react'\r\nimport './Backdrop.css'\r\n\r\nexport const Backdrop = (props) => {\r\n  const cssClasses =[\r\n    'backdrop', props.show ? 'backdropOpen':'backdropClose'\r\n  ]\r\n  return (\r\n    <div className={cssClasses.join(' ')}>\r\n      \r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Nav, Navbar, Offcanvas } from 'react-bootstrap';\r\nimport './EmailMobileMenu.css';\r\n\r\nexport const EmailMobileMenu = () => {\r\n\treturn (\r\n\t\t<div className=\"email-mobile-menu\">\r\n\t\t\t<Navbar bg=\"light\" expand=\"sm\">\r\n\t\t\t\t<Navbar.Toggle aria-controls=\"offcanvasNavbar\" />\r\n\t\t\t\t<Navbar.Offcanvas\r\n\t\t\t\t\tid=\"offcanvasNavbar\"\r\n\t\t\t\t\taria-labelledby=\"offcanvasNavbarLabel\"\r\n\t\t\t\t\tplacement=\"end\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Offcanvas.Header closeButton>\r\n\t\t\t\t\t\t<Offcanvas.Title id=\"offcanvasNavbarLabel\">Appsus Email</Offcanvas.Title>\r\n\t\t\t\t\t</Offcanvas.Header>\r\n\t\t\t\t\t<Navbar.Collapse>\r\n\t\t\t\t\t\t<Nav className=\"justify-content-end flex-grow-1 pe-3\">\r\n\t\t\t\t\t\t\t<Nav.Link href=\"/email\">Inbox</Nav.Link>\r\n\t\t\t\t\t\t\t<Nav.Link href=\"/email/starred\">Starred</Nav.Link>\r\n\t\t\t\t\t\t\t<Nav.Link href=\"/email/sent\">Sent</Nav.Link>\r\n\t\t\t\t\t\t\t<Nav.Link href=\"/email/drafts\">Drafts</Nav.Link>\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Navbar.Offcanvas>\r\n\t\t\t</Navbar>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, {useState, useEffect} from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\nimport {EmailList} from './cmps/EmailList';\r\nimport {EmailSideBar} from './cmps/EmailSideBar';\r\nimport {EmailSort} from './cmps/EmailSort';\r\nimport {Filter} from '../../cmps/Filter';\r\nimport {emailService} from './services/emailService';\r\nimport {eventBusService} from '../../services/eventBusService';\r\nimport {Backdrop} from '../../cmps/Backdrop';\r\nimport {EmailMobileMenu} from './cmps/EmailMobileMenu.js';\r\nimport {useWindowSize} from \"../../services/useWindowSize\";\r\nimport './EmailApp.css';\r\n\r\nexport const EmailApp = () => {\r\n    const [emailsData, setEmailsData] = useState([]);\r\n    const [sortBy, setSortBy] = useState();\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const [filteredEmails, setFilteredEmails] = useState([]);\r\n    const [isFiltered, setIsFilter] = useState(false);\r\n    const [show, setShow] = useState(false);\r\n    const size = useWindowSize();\r\n    const isMobile = size.width < 800 ? true : false;\r\n    let location = useLocation();\r\n\r\n    useEffect(() => {\r\n        const fetchEmails = async () => {\r\n            const emailsToShow = location.pathname.split('/')[2];\r\n            const emails = await emailService.query(emailsToShow);\r\n            setEmailsData(emails);\r\n        };\r\n        fetchEmails();\r\n        // const handleGotNewEmail = (email) => {\r\n        //     console.log(email);\r\n        //     setEmailsData([email, ...emailsData]);\r\n        // };\r\n        // eventBusService.on('gotNewEmail', handleGotNewEmail);\r\n        // return () => {\r\n        //     window.removeEventListener('gotNewEmail', handleGotNewEmail);\r\n        // };\r\n    }, [emailsData, sortBy, searchTerm, location, size]);\r\n\r\n    const onSortBy = (sortOp) => {\r\n        setSortBy(sortOp);\r\n        emailService.sortBy(sortOp).then(sortedEmails => {\r\n            setEmailsData(sortedEmails);\r\n        });\r\n    };\r\n\r\n    const onRemoveEmail = async (emailId) => {\r\n        const emails = await emailService.removeEmail(emailId);\r\n        setEmailsData(emails);\r\n        eventBusService.emit('showMsg', 'Email removed');\r\n    };\r\n\r\n    const onFilterBy = async (filterBy) => {\r\n        if (filterBy === \"all\") setIsFilter(false);\r\n        else setIsFilter(true);\r\n        const filterByObj = {identifier: 'filterBy', filterBy};\r\n        const emails = await emailService.filterEmails(filterByObj);\r\n        setFilteredEmails(emails);\r\n    };\r\n\r\n    const searchHandler = async (searchTerm) => {\r\n        setSearchTerm(searchTerm);\r\n        if (searchTerm !== \"\") {\r\n            const emails = await emailService.filterEmails(searchTerm);\r\n            setFilteredEmails(emails);\r\n        }\r\n    };\r\n\r\n    const openBackdrop = () => {\r\n        setShow(true);\r\n    };\r\n\r\n    const closeBackdrop = () => {\r\n        setShow(false);\r\n    };\r\n\r\n    return (\r\n        <section className=\"email-app\">\r\n            <div className=\"search-container\">\r\n                <Filter term={searchTerm} searchKeyword={searchHandler} filterBy={onFilterBy} isEmail={true} />\r\n                <EmailMobileMenu />\r\n            </div>\r\n            <EmailSort sortBy={onSortBy} />\r\n            <div className=\"main-content\">\r\n                <Backdrop show={show} />\r\n                <EmailSideBar openBackdrop={openBackdrop} closeBackdrop={closeBackdrop} isMobile={isMobile} />\r\n                <EmailList emails={(searchTerm.length > 0 || isFiltered) ? filteredEmails : emailsData} removeEmail={onRemoveEmail} />\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n","import React, {useRef, useEffect, useState} from 'react';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport {useWindowSize} from '../../../services/useWindowSize';\r\nimport {emailService} from '../services/emailService';\r\nimport './EmailReply.css';\r\n\r\nexport const EmailReply = ({email, hideReply}) => {\r\n  const emailBody = useRef(null);\r\n  let navigate = useNavigate();\r\n  const size = useWindowSize();\r\n  const [isDisabled, setIsDisabled] = useState(false);\r\n  const [textareaVal, setTextareaVal] = useState('');\r\n\r\n  useEffect(() => {\r\n    emailBody.current.focus();\r\n  }, []);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    let isValid = () => {\r\n      if (textareaVal && textareaVal.length > 0) {\r\n        return textareaVal.length > 5;\r\n      } else return false;\r\n    };\r\n    setIsDisabled(!isValid());\r\n\r\n  }, [textareaVal, isDisabled]);\r\n\r\n  const onSend = async () => {\r\n    const date = new Date().toUTCString();\r\n    const body = `On ${ date } loggedIn user <user@gmail.com> wrote:${ emailBody.current.value }\\n ${ email.body } `;\r\n    await emailService.addReply(body, email.id);\r\n    emailBody.current.value = body;\r\n    hideReply();\r\n    navigate('/email');\r\n  };\r\n\r\n  const textareaForWideScreen = <textarea cols=\"40\" rows=\"6\" name=\"body\" value={textareaVal} onChange={(e) => setTextareaVal(e.target.value)} ref={emailBody} ></textarea>;\r\n  const textareaForMobile = <textarea cols=\"40\" rows=\"3\" name=\"body\" value={textareaVal} onChange={(e) => setTextareaVal(e.target.value)} ref={emailBody} ></textarea>;\r\n\r\n  return (\r\n    <div className=\"reply-body\">\r\n      {size.width < 720 ? textareaForMobile : textareaForWideScreen}\r\n      <button className={isDisabled ? 'disabled' : ''} onClick={onSend}>Send Reply</button>\r\n    </div>\r\n  );\r\n};\r\n","import React, {useState, useEffect} from 'react';\r\nimport {useNavigate, useParams} from 'react-router-dom';\r\nimport { EmailReply } from './EmailReply';\r\nimport {emailService} from \"./../services/emailService\";\r\nimport {eventBusService} from \"./../../../services/eventBusService\";\r\nimport './EmailDetails.css'\r\n\r\nexport const EmailDetails = () => {\r\n    const [email, setEmail] = useState({});\r\n    const [emailId, setEmailId] = useState(null);\r\n    const [isReply, setIsReply] = useState(false);\r\n    const params = useParams();\r\n    let navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const loadEmail = async () => {\r\n            setEmailId(params.emailId);\r\n            const emailData = await emailService.getEmailById(emailId); //todo getEmailById\r\n            setEmail(emailData);\r\n        };\r\n        loadEmail();\r\n    }, [email, params, emailId]);\r\n\r\n    const onRemoveEmail = async () => {\r\n        await emailService.removeEmail(emailId);\r\n        onGoBack();\r\n        eventBusService.emit('showMsg', 'Email removed');\r\n    };\r\n\r\n    const onReply = () => { \r\n        setIsReply(!isReply);\r\n    };\r\n\r\n    const onGoBack = () => {\r\n        navigate('/email');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {(!email) ? <div>...loading</div> :\r\n                <section className=\"email-details\">\r\n                    <h1>Subject: {email.subject}</h1>\r\n                    <h3>From: {email.from}</h3>\r\n                    <p className=\"email-body\">{email.body}</p>\r\n                    <div className=\"actions\">\r\n                        <button onClick={onRemoveEmail} className=\"delete\">Delete</button>\r\n                        <button onClick={onReply} className=\"reply\">Reply</button>\r\n                        <button onClick={onGoBack} className=\"back-to-emails\">Back</button>\r\n                    </div>\r\n                    {isReply && <EmailReply email={email} hideReply={onReply}/>}\r\n                </section>\r\n            }\r\n        </>\r\n    );\r\n};;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {eventBusService} from \"../services/eventBusService\";\r\nimport './UserMsg.css';\r\n\r\nexport const UserMsg = () => {\r\n  const [msg, setMsg] = useState('');\r\n  const [isShown, setIsShown] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handleShowMsg = (msg) => {\r\n      setMsg(msg);\r\n      setIsShown(true);\r\n      setTimeout(() => {\r\n        setIsShown(false);\r\n      }, 4000);\r\n    };\r\n    eventBusService.on('showMsg', handleShowMsg);\r\n\r\n    return () => {\r\n      window.removeEventListener('showMsg', handleShowMsg);\r\n    };\r\n\r\n  }, [msg, isShown]);\r\n\r\n  return (\r\n    <div className=\"user-msg animate\">\r\n        {isShown && msg}\r\n\r\n      </div>\r\n  );\r\n};\r\n\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport './BookPreview.css';\r\n\r\nexport const BookPreview = ({book}) => {\r\n  return (\r\n    <Link to={`/book/${ book.id }`}>\r\n      <div className=\"book-preview\">\r\n        <h1 className=\"book-title\">{book.title}</h1>\r\n        <img className=\"book-image\" src={book.imgUrl} alt=\"\" />\r\n        <h3 className=\"book-price\">{book.price}$</h3>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport './BookList.css';\r\nimport { BookPreview } from \"./BookPreview\";\r\n\r\n\r\nexport const BookList = ({books}) => {\r\n  return (\r\n    <section className=\"book-list\">\r\n      {books.map(book => {\r\n        return (\r\n          <BookPreview key={book.id} book={book} />\r\n        );\r\n      })}\r\n    </section>\r\n  );\r\n};\r\n\r\n","import { utilService } from '../../../services/utilService.js';\r\nimport { storageService } from '../../../services/storageService.js';\r\nexport const bookService = {\r\n\tquery,\r\n\tgetBookById,\r\n\taddReview,\r\n\tgetBookIdToRender,\r\n\tfilterBooks\r\n};\r\n\r\nconst axios = require('axios');\r\nconst KEY = 'bookDB';\r\nlet gBooks = [];\r\n// let gFilterBy = 'all';\r\n\r\nconst gBooksCategories = [\r\n\t{ category: 'Fantasy' },\r\n\t{ category: 'Fiction' },\r\n\t{ category: 'Photography' },\r\n\t{ category: 'History' },\r\n\t{ category: 'Education' },\r\n\t{ category: 'Art' },\r\n\t{ category: 'Adventure' }\r\n];\r\n\r\n_createBooks();\r\n\r\nasync function _createBooks() {\r\n\ttry {\r\n\t\tgBooks = storageService.loadFromStorage(KEY);\r\n\t\tif (!gBooks || gBooks.length === 0) {\r\n\t\t\tconst allCategoriesBooks = await _getDemoBooks();\r\n\t\t\tgBooks = allCategoriesBooks.reduce((generalList, bookCat) => {\r\n\t\t\t\treturn generalList.concat(bookCat.categoryBookList);\r\n\t\t\t}, []);\r\n\r\n\t\t\t//remove duplications\r\n\t\t\tgBooks = uniq(gBooks);\r\n\t\t\t_saveBooksToStorage();\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tconsole.error(err);\r\n\t}\r\n}\r\n\r\nfunction uniq(arr) {\r\n\treturn [...new Map(arr.map((v) => [v.id, v])).values()];\r\n}\r\n\r\nfunction _saveBooksToStorage() {\r\n\tstorageService.saveToStorage(KEY, gBooks);\r\n}\r\n\r\nfunction query(booksToShow) {\r\n\tif (!booksToShow) return gBooks;\r\n\tif (booksToShow === 'bestsellers')\r\n\t\treturn gBooks.filter((book) => {\r\n\t\t\treturn book.isBestSeller;\r\n\t\t});\r\n\telse\r\n\t\treturn gBooks.filter((book) => {\r\n\t\t\treturn book.categories.includes(booksToShow);\r\n\t\t});\r\n}\r\n\r\nfunction addReview(bookId, reviewInfo) {\r\n\tconst book = getBookById(bookId);\r\n\tif (book.reviews) {\r\n\t\tbook.reviews.push(reviewInfo);\r\n\t} else {\r\n\t\tbook.reviews = [];\r\n\t\tbook.reviews.push(reviewInfo);\r\n\t}\r\n\tconst bookIdx = getIndexById(bookId);\r\n\tconst books = [...gBooks.slice(0, bookIdx), book, ...gBooks.slice(bookIdx)];\r\n\tgBooks = books;\r\n\t_saveBooksToStorage();\r\n}\r\n\r\nfunction getBookById(bookId) {\r\n\treturn gBooks?.find((book) => {\r\n\t\treturn book.id === bookId;\r\n\t});\r\n}\r\n\r\nfunction getIndexById(bookId) {\r\n\treturn gBooks.findIndex((book) => book.id === bookId);\r\n}\r\n\r\nfunction getBookIdToRender(bookId, val) {\r\n\tconst bookIdx = getIndexById(bookId);\r\n\tconst newIndex = bookIdx + val;\r\n\tif (newIndex < 0 || newIndex > gBooks.length - 1) return gBooks[bookIdx].id;\r\n\tconst bookToRender = gBooks[newIndex];\r\n\treturn bookToRender.id;\r\n}\r\n\r\nfunction filterBooks(searchTerm) {\r\n\tlet filteredBooks = [];\r\n\tif (searchTerm.identifier === 'filterBy') {\r\n\t\tfilteredBooks = gBooks.filter((book) => {\r\n\t\t\tconst filterByOpt = searchTerm.filterBy;\r\n\t\t\treturn book.category\r\n\t\t\t\t.toLocaleString().toLowerCase()\r\n\t\t\t\t.includes(filterByOpt.toLowerCase());\r\n\t\t});\r\n\t} else {\r\n\t\tfilteredBooks = gBooks.filter((book) => {\r\n\t\t\treturn Object.values(book)\r\n\t\t\t\t.join(' ')\r\n\t\t\t\t.toLowerCase()\r\n\t\t\t\t.includes(searchTerm.toLowerCase());\r\n\t\t});\r\n\t}\r\n\treturn filteredBooks;\r\n}\r\n\r\nasync function _getDemoBooks() {\r\n\treturn gBooksCategories.reduce(async (allBookCategories, book) => {\r\n\t\tconst category = book.category;\r\n\t\tconst categoryBookList = await getCategoryList(category);\r\n\t\tconst allCat = await allBookCategories;\r\n\t\tconst bookToAdd = {\r\n\t\t\tcategoryBookList,\r\n\t\t\tcategory\r\n\t\t};\r\n\t\tawait allCat.push(bookToAdd);\r\n\t\treturn allCat;\r\n\t}, Promise.resolve([]));\r\n}\r\n\r\nfunction getRandomCategory() {\r\n\tconst pos = utilService.getRandomIntInclusive(0, gBooksCategories.length - 1);\r\n\treturn gBooksCategories[pos];\r\n}\r\n\r\nasync function getCategoryList(category) {\r\n\t// const res = await fetch(\r\n\t// \t'https://www.googleapis.com/books/v1/volumes?q=subject:fantasy'\r\n\t// \t// `https://www.googleapis.com/books/v1/volumes?q=subject:${category}`\r\n\t// );\r\n\t// let result = await res.json();\r\n\tconst res = await axios.get(\r\n\t\t`https://www.googleapis.com/books/v1/volumes?q=subject:${category}`\r\n\t);\r\n\tlet result = res.data;\r\n\tlet volumeInfo;\r\n\tlet books = [];\r\n\tfor (let i = 0; i < result.items.length; i++) {\r\n\t\tvolumeInfo = result.items[i].volumeInfo;\r\n\t\tbooks[i] = {\r\n\t\t\tid: result.items[i].id,\r\n\t\t\ttitle: volumeInfo.title,\r\n\t\t\tauthor: volumeInfo.authors ? volumeInfo.authors : '',\r\n\t\t\tdescription: volumeInfo.description,\r\n\t\t\tcategory: volumeInfo.categories\r\n\t\t\t\t? volumeInfo.categories[0]\r\n\t\t\t\t: getRandomCategory(),\r\n\t\t\trate: utilService.getRandomIntInclusive(1, 5),\r\n\t\t\timgUrl: volumeInfo.imageLinks?.thumbnail,\r\n\t\t\tcreated: volumeInfo.publishedDate,\r\n\t\t\tprice: utilService.getRandomIntInclusive(39.99, 99.99),\r\n\t\t\taverageRating: volumeInfo.averageRating,\r\n\t\t\tisOnSale: '',\r\n\t\t\t// get onSale(){\r\n\t\t\t// \treturn this.price > 90?true:false\r\n\t\t\t// },\r\n\t\t\treadingLength:\r\n\t\t\t\tvolumeInfo.pageCount > 500\r\n\t\t\t\t\t? 'Long Reading'\r\n\t\t\t\t\t: volumeInfo.pageCount > 200\r\n\t\t\t\t\t? 'Decent Reading'\r\n\t\t\t\t\t: 'Light Reading',\r\n\t\t\tisBestSeller: volumeInfo.averageRating * volumeInfo.ratingsCount > 240\r\n\t\t};\r\n\t\tbooks[i].isOnSale = books[i].price > 90;\r\n\t}\r\n\treturn Promise.resolve(books);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// for (const [i, categoryBooks] of allCategoriesBooks.entries()) {\r\n// \tswitch (categoryBooks.category) {\r\n// \t\tcase 'Fantasy':\r\n// \t\t\tgFantasyBooks = categoryBooks.categoryBookList;\r\n// \t\t\tbreak;\r\n// \t\tcase 'Fiction':\r\n// \t\t\tgFictionBooks = categoryBooks.categoryBookList;\r\n// \t\t\tbreak;\r\n// \t\tcase 'Photography':\r\n// \t\t\tgPhotographyBooks = categoryBooks.categoryBookList;\r\n// \t\t\tbreak;\r\n// \t\tcase 'History':\r\n// \t\t\tgHistoryBooks = categoryBooks.categoryBookList;\r\n// \t\t\tbreak;\r\n// \t\tcase 'Education':\r\n// \t\t\tgEducationBooks = categoryBooks.categoryBookList;\r\n// \t\t\tbreak;\r\n// \t\tcase 'Art':\r\n// \t\t\tgArtBooks = categoryBooks.categoryBookList;\r\n// \t\t\tbreak;\r\n// \t\tcase 'Adventure':\r\n// \t\t\tgAdventureBooks = categoryBooks.categoryBookList;\r\n// \t\t\tbreak;\r\n// \t\tdefault:\r\n// \t\t\treturn;\r\n// \t}\r\n// \tconst key = categoryBooks.category;\r\n// \tconst list = categoryBooks.categoryBookList;\r\n\r\n// let books = [];\r\n// \tbooks[i] = { key, list };\r\n// }\r\n// console.log(gBooks);\r\n// gBooks = books.reduce((generalList, bookCat) => {\r\n// \treturn generalList.concat(bookCat.list);\r\n// }, []);\r\n","import React, {useState, useEffect} from 'react';\r\nimport {Filter} from '../../cmps/Filter';\r\nimport {BookList} from './cmps/BookList';\r\nimport {bookService} from './services/bookService';\r\n\r\n\r\nexport const BookApp = () => {\r\n  const [booksData, setBooksData] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [filteredBooks, setFilteredBooks] = useState([]);\r\n  const [isFiltered, setIsFilter] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchBooks = async () => {\r\n      const books = await bookService.query();\r\n      books ? setBooksData(books) : setBooksData([]);\r\n    };\r\n    fetchBooks();\r\n  }, [booksData]);\r\n\r\n  const onFilterBy = async (filterBy) => {\r\n    if (filterBy === \"all\") setIsFilter(false);\r\n    else setIsFilter(true);\r\n    const filterByObj = {identifier: 'filterBy', filterBy};\r\n    const books = await bookService.filterBooks(filterByObj);\r\n    setFilteredBooks(books);\r\n  };\r\n\r\n  const searchHandler = async (searchTerm) => {\r\n    setSearchTerm(searchTerm);\r\n    if (searchTerm !== \"\") {\r\n      const books = await bookService.filterBooks(searchTerm);\r\n      setFilteredBooks(books);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"book-app\">\r\n      {booksData.length === 0 && <h1>...Loading</h1>}\r\n      <Filter term={searchTerm} searchKeyword={searchHandler} filterBy={onFilterBy} isBook={true} />\r\n      <BookList books={(searchTerm.length > 0 || isFiltered) ? filteredBooks : booksData} />\r\n    </section>\r\n  );\r\n};\r\n","import { utilService } from '../../../services/utilService.js';\r\nimport { storageService } from '../../../services/storageService.js';\r\n\r\nexport const keepService = {\r\n\tquery,\r\n\ttoggleCheck,\r\n\tuploadImage,\r\n\tmodifyColor,\r\n\taddNewTodo,\r\n\tgetNoteById,\r\n\tdeleteItem,\r\n\teditItemTxt,\r\n\tdeleteMedia,\r\n\tdeleteCanvas,\r\n\teditTitle,\r\n\tfilterNotes,\r\n\taddNewNote,\r\n\tdeleteNote,\r\n\taddDimToObj,\r\n\ttoggleIsPinned\r\n};\r\n\r\nconst KEY = 'notesDB';\r\nlet gNotes;\r\n_createNotes();\r\n\r\nfunction _createNotes() {\r\n\tgNotes = storageService.loadFromStorage(KEY);\r\n\tif (!gNotes || !gNotes.length) {\r\n\t\tgNotes = _getDemoNotes();\r\n\t\t_saveNotesToStorage();\r\n\t}\r\n}\r\n\r\nfunction query() {\r\n\treturn gNotes;\r\n}\r\n\r\nfunction toggleCheck(noteId, itemId) {\r\n\tconst noteIdx = findIdxById(noteId);\r\n\tconst notes = [...gNotes];\r\n\tconst itemIdx = notes[noteIdx].items.findIndex((item) => item.id === itemId);\r\n\tnotes[noteIdx].items[itemIdx].isChecked =\r\n\t\t!notes[noteIdx].items[itemIdx].isChecked;\r\n\tgNotes = notes;\r\n\t_saveNotesToStorage();\r\n}\r\n\r\nfunction findIdxById(noteId) {\r\n\treturn gNotes.findIndex((note) => note.id === noteId);\r\n}\r\n\r\nfunction getNoteById(noteId) {\r\n\treturn gNotes.filter((note) => note.id === noteId);\r\n}\r\n\r\nfunction deleteNote(noteId) {\r\n\tlet notes = [...gNotes];\r\n\tnotes = notes.filter((note) => note.id !== noteId);\r\n\tgNotes = notes;\r\n\t_saveNotesToStorage();\r\n\treturn gNotes;\r\n}\r\n\r\nfunction deleteItem(noteId, itemId) {\r\n\tconst notes = [...gNotes];\r\n\tconst noteIdx = findIdxById(noteId);\r\n\tlet items = notes[noteIdx].items;\r\n\tnotes[noteIdx].items = items.filter((item) => item.id !== itemId);\r\n\tgNotes = notes;\r\n\t_saveNotesToStorage();\r\n\treturn notes[noteIdx].items;\r\n}\r\n\r\nfunction filterNotes(searchTerm) {\r\n\tlet filteredNotes = [...gNotes];\r\n\tfilteredNotes = filteredNotes.filter((note) => {\r\n\t\treturn deepSearch(note, searchTerm);\r\n\t});\r\n\treturn filteredNotes;\r\n}\r\n\r\nfunction deepSearch(obj, valToSearch) {\r\n\tfor (let child of Object.values(obj)) {\r\n\t\tif (typeof child === 'object') {\r\n\t\t\tif (deepSearch(child, valToSearch)) return true;\r\n\t\t} else {\r\n\t\t\tif (typeof child === 'string') {\r\n\t\t\t\tconst isValInObj = child\r\n\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t.includes(valToSearch.toLowerCase());\r\n\t\t\t\tif (isValInObj) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nfunction deleteMedia(noteId, fileType) {\r\n\tconst notes = [...gNotes];\r\n\tconst noteIdx = findIdxById(noteId);\r\n\tif (fileType === 'image' || fileType === 'video') {\r\n\t\tnotes[noteIdx].uploadedFile = {};\r\n\t}\r\n\tgNotes = notes;\r\n\t_saveNotesToStorage();\r\n}\r\n\r\nfunction deleteCanvas(noteId) {\r\n\tconst notes = [...gNotes];\r\n\tconst noteIdx = findIdxById(noteId);\r\n\tnotes[noteIdx].canvasDrawing = {};\r\n\tgNotes = notes;\r\n\t_saveNotesToStorage();\r\n}\r\n\r\nfunction editItemTxt(noteId, itemId, updatedTxt) {\r\n\tconst notes = [...gNotes];\r\n\tconst noteIdx = findIdxById(noteId);\r\n\tlet items = notes[noteIdx].items;\r\n\tconst itemIdx = items.findIndex((item) => item.id === itemId);\r\n\tnotes[noteIdx].items[itemIdx].txt = updatedTxt;\r\n\tgNotes = notes;\r\n\t_saveNotesToStorage();\r\n}\r\n\r\nfunction editTitle(noteId, noteTitle) {\r\n\tconst notes = [...gNotes];\r\n\tconst noteIdx = findIdxById(noteId);\r\n\tnotes[noteIdx].info.title = noteTitle;\r\n\tgNotes = notes;\r\n\t_saveNotesToStorage();\r\n}\r\n\r\nfunction toggleIsPinned(noteId) {\r\n\tconst notes = [...gNotes];\r\n\tconst noteIdx = findIdxById(noteId);\r\n\tnotes[noteIdx].isPinned = !notes[noteIdx].isPinned;\r\n\tgNotes = notes;\r\n\t_saveNotesToStorage();\r\n}\r\n\r\nfunction uploadImage(file, noteId, imageType) {\r\n\tlet notes = [...gNotes];\r\n\tconst noteIdx = notes.findIndex((note) => note.id === noteId);\r\n\tif (imageType === 'isBgImage') {\r\n\t\tconst fileUrl = file.url;\r\n\t\tconst fileType = file.resource_type === 'image' ? 'image' : 'video';\r\n\t\tconst publicId = file.public_id;\r\n\t\tconst fileId = utilService.makeId();\r\n\t\tconst uploadedFile = {\r\n\t\t\tfileType,\r\n\t\t\tfileUrl,\r\n\t\t\tpublicId,\r\n\t\t\tfileId,\r\n\t\t\timageType\r\n\t\t};\r\n\t\tnotes[noteIdx].uploadedFile = uploadedFile;\r\n\t} else if (imageType === 'isCanvasUploaded' || imageType === 'imageUrl') {\r\n\t\tnotes[noteIdx].canvasDrawing.uploadedImage = file.url;\r\n\t} else if (imageType === 'canvasDrawing') {\r\n\t\tnotes[noteIdx].canvasDrawing.drawnImage = file;\r\n\t}\r\n\tgNotes = notes;\r\n\t_saveNotesToStorage();\r\n}\r\n\r\nfunction modifyColor(bgColor, noteId) {\r\n\tlet notes = [...gNotes];\r\n\tconst noteIdx = notes.findIndex((note) => note.id === noteId);\r\n\tnotes[noteIdx].style.backgroundColor = bgColor;\r\n\tgNotes = notes;\r\n\t_saveNotesToStorage();\r\n}\r\n\r\nfunction addNewTodo(newTodoTxt, noteId) {\r\n\tlet notes = [...gNotes];\r\n\tconst noteIdx = notes.findIndex((note) => note.id === noteId);\r\n\tconst newTodoItem = {\r\n\t\tid: utilService.makeId(),\r\n\t\ttxt: newTodoTxt,\r\n\t\tisChecked: false\r\n\t};\r\n\tnotes[noteIdx].items = [...notes[noteIdx].items, newTodoItem];\r\n\tgNotes = notes;\r\n\t_saveNotesToStorage();\r\n\treturn newTodoItem;\r\n}\r\n\r\nfunction addDimToObj(noteId, noteDimensions) {\r\n\tconst { noteWidth, noteHeight } = noteDimensions;\r\n\tlet notes = [...gNotes];\r\n\tconst noteIdx = notes.findIndex((note) => note.id === noteId);\r\n\tnotes[noteIdx].noteDimensions = { noteWidth, noteHeight };\r\n\tgNotes = notes;\r\n\t_saveNotesToStorage();\r\n}\r\n\r\nfunction addNewNote(type) {\r\n\tconst newNote = {\r\n\t\tid: utilService.makeId(),\r\n\t\tisPinned: false,\r\n\t\ttype: type,\r\n\t\tuploadedFile: {},\r\n\t\tcanvasDrawing: {\r\n\t\t\tdrawnImage: '',\r\n\t\t\tuploadedImage: ''\r\n\t\t},\r\n\t\tinfo: {\r\n\t\t\ttitle: ''\r\n\t\t},\r\n\t\tstyle: {\r\n\t\t\tbackgroundColor: '#9ff59f'\r\n\t\t},\r\n\t\titems: []\r\n\t};\r\n\tlet notes = [...gNotes, newNote];\r\n\tgNotes = notes;\r\n\t_saveNotesToStorage();\r\n\treturn newNote;\r\n}\r\n\r\nfunction _saveNotesToStorage() {\r\n\tstorageService.saveToStorage(KEY, gNotes);\r\n}\r\n\r\nfunction _getDemoNotes() {\r\n\tconst demoNotes = [\r\n\t\t{\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tisPinned: false,\r\n\t\t\ttype: 'NoteTodo',\r\n\t\t\tuploadedFile: {},\r\n\t\t\tcanvasDrawing: {\r\n\t\t\t\tdrawnImage: '',\r\n\t\t\t\tuploadedImage: ''\r\n\t\t\t},\r\n\t\t\tinfo: {\r\n\t\t\t\ttitle: 'Current mission'\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\tbackgroundColor: '#9ff59f'\r\n\t\t\t},\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'Being a fullstack master!',\r\n\t\t\t\t\tisChecked: true\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'Backend proficiency',\r\n\t\t\t\t\tisChecked: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tisPinned: true,\r\n\t\t\ttype: 'NoteTodo',\r\n\t\t\tuploadedFile: {\r\n\t\t\t\tfileId: 'GrXenY',\r\n\t\t\t\tfileType: 'video',\r\n\t\t\t\tfileUrl:\r\n\t\t\t\t\t'http://res.cloudinary.com/dqehfu3kx/video/upload/v1645955754/keepapp/doscmlldkoqhdkctrjq6.mp4',\r\n\t\t\t\timageType: 'isBgImage',\r\n\t\t\t\tpublicId: 'keepapp/doscmlldkoqhdkctrjq6'\r\n\t\t\t},\r\n\t\t\tcanvasDrawing: {\r\n\t\t\t\tdrawnImage: '',\r\n\t\t\t\tuploadedImage: ''\r\n\t\t\t},\r\n\t\t\tinfo: {\r\n\t\t\t\ttitle: \"Mom's birthday tommorow\"\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\tbackgroundColor: '#fefdca'\r\n\t\t\t},\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'play her favorite video',\r\n\t\t\t\t\tisChecked: false\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'remind everyone to call her',\r\n\t\t\t\t\tisChecked: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tisPinned: false,\r\n\t\t\ttype: 'NoteTodo',\r\n\t\t\tuploadedFile: {},\r\n\t\t\tcanvasDrawing: {\r\n\t\t\t\tdrawnImage: '',\r\n\t\t\t\tuploadedImage: ''\r\n\t\t\t},\r\n\t\t\tinfo: {\r\n\t\t\t\ttitle: 'Scrum master:'\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\tbackgroundColor: 'lightsteelblue'\r\n\t\t\t},\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'Complete PMP course on the Technion',\r\n\t\t\t\t\tisChecked: true\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'Being a certified scrum master',\r\n\t\t\t\t\tisChecked: true\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'Complete PMP exam',\r\n\t\t\t\t\tisChecked: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tisPinned: true,\r\n\t\t\ttype: 'NoteTodo',\r\n\t\t\tuploadedFile: {\r\n\t\t\t\tfileType: 'image',\r\n\t\t\t\tfileUrl:\r\n\t\t\t\t\t'http://res.cloudinary.com/dqehfu3kx/image/upload/v1645954377/keepapp/dwgrwflvqwfi9ta6skht.jpg',\r\n\t\t\t\tpublicId: 'keepapp/dwgrwflvqwfi9ta6skht',\r\n\t\t\t\tfileId: 'ujnTB2',\r\n\t\t\t\timageType: 'isBgImage'\r\n\t\t\t},\r\n\t\t\tcanvasDrawing: {\r\n\t\t\t\tdrawnImage: '',\r\n\t\t\t\tuploadedImage: ''\r\n\t\t\t},\r\n\t\t\tinfo: {\r\n\t\t\t\ttitle: \"Don't forget:\"\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\tbackgroundColor: 'lightsteelblue'\r\n\t\t\t},\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'Enjoy The Journey',\r\n\t\t\t\t\tisChecked: false\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'Eat good',\r\n\t\t\t\t\tisChecked: true\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'Take a nap',\r\n\t\t\t\t\tisChecked: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tisPinned: false,\r\n\t\t\ttype: 'NoteTodo',\r\n\t\t\tuploadedFile: {},\r\n\t\t\tcanvasDrawing: {\r\n\t\t\t\tdrawnImage: '',\r\n\t\t\t\tuploadedImage: ''\r\n\t\t\t},\r\n\t\t\tinfo: {\r\n\t\t\t\ttitle: \"Riding eating and drinking\"\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\tbackgroundColor: 'lightsteelblue'\r\n\t\t\t},\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'keep on doing sport twice a week',\r\n\t\t\t\t\tisChecked: false\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'Eat healthy food',\r\n\t\t\t\t\tisChecked: true\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'Drink red wine every night',\r\n\t\t\t\t\tisChecked: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tisPinned: true,\r\n\t\t\ttype: 'NoteTodo',\r\n\t\t\tuploadedFile: {},\r\n\t\t\tcanvasDrawing: {\r\n\t\t\t\tdrawnImage:\r\n\t\t\t\t\t'data:image/png;base64,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',\r\n\t\t\t\tuploadedImage:\r\n\t\t\t\t\t'http://res.cloudinary.com/dqehfu3kx/image/upload/v1645956933/keepapp/zsnb55pxrl4nbhdo1rfq.jpg'\r\n\t\t\t},\r\n\t\t\tinfo: {\r\n\t\t\t\ttitle: 'My next bikes'\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\tbackgroundColor: 'lightsteelblue'\r\n\t\t\t},\r\n\t\t\titems: [\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tisPinned: false,\r\n\t\t\ttype: 'NoteTodo',\r\n\t\t\tuploadedFile: {},\r\n\t\t\tcanvasDrawing: {\r\n\t\t\t\tdrawnImage: '',\r\n\t\t\t\tuploadedImage: ''\r\n\t\t\t},\r\n\t\t\tinfo: {\r\n\t\t\t\ttitle: \"Being a pro\"\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\tbackgroundColor: 'lightsteelblue'\r\n\t\t\t},\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'Read whenever you can',\r\n\t\t\t\t\tisChecked: false\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'Watch relevant playlist',\r\n\t\t\t\t\tisChecked: true\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'Work hard to achieve your goals',\r\n\t\t\t\t\tisChecked: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: utilService.makeId(),\r\n\t\t\tisPinned: false,\r\n\t\t\ttype: 'NoteTodo',\r\n\t\t\tuploadedFile: {},\r\n\t\t\tcanvasDrawing: {\r\n\t\t\t\tdrawnImage: '',\r\n\t\t\t\tuploadedImage: ''\r\n\t\t\t},\r\n\t\t\tinfo: {\r\n\t\t\t\ttitle: `Manager: welcome all. \r\n\t\t\t\t\ttell us about what you do in one line`\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\tbackgroundColor: 'lightgreen'\r\n\t\t\t},\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: \"Dev1: I wear glasses because I can't c#. hello everyone, I am a java developer\",\r\n\t\t\t\t\tisChecked: false\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: utilService.makeId(),\r\n\t\t\t\t\ttxt: 'Dev2:I wont let anyone see the skies. hello everyone, i am a cloud developer ',\r\n\t\t\t\t\tisChecked: true\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\treturn demoNotes;\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport './BookReviews.css';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\n\r\n\r\nexport const BookReviews = ({book, onlyStars, closeReviews}) => {\r\n  const emptyStar = <FontAwesomeIcon icon={['far', 'star']} />;\r\n  const solidStar = <FontAwesomeIcon icon={['fas', 'star']} color='#f18e0c' />;\r\n  const solidStarsArr = Array(5).fill(solidStar);\r\n  const [avgReview, setAvgReview] = useState();\r\n\r\n  useEffect(() => {\r\n    if(book.reviews){\r\n      const accRating = book.reviews.reduce((totalReviews, review) => {\r\n        return totalReviews += review.rate;\r\n      }, 0);\r\n      setAvgReview(Math.round(accRating / book.reviews.length));\r\n    }\r\n  }, [book, onlyStars, book.reviews]);\r\n\r\n\r\n  return (\r\n    <section className=\"book-reviews\">\r\n      {!onlyStars && book.reviews?.length > 0 && <h2 className=\"reviews-title\">REVIEWS</h2>}\r\n      {!onlyStars && book?.reviews && book.reviews.map((review, idx) => {\r\n        return (\r\n          <div key={idx} className=\"reviews-container\">\r\n            <span>\r\n              {solidStarsArr.map((solidStar, i) => {\r\n                return (\r\n                  <span key={i}>\r\n                    {(i < review.rate) ? solidStar : emptyStar}\r\n                  </span>\r\n                );\r\n              })}\r\n            </span>\r\n            <h4>{review.fullName}</h4>\r\n          </div>\r\n        );\r\n      })}\r\n\r\n      {onlyStars && book.averageRating && solidStarsArr.map((star, i) => {\r\n        return (\r\n          <span key={i}>\r\n            {(i < book.averageRating) ? star : emptyStar}\r\n          </span>\r\n        );\r\n      })}\r\n      {onlyStars && !book.averageRating && solidStarsArr.map((star, i) => {\r\n        return (\r\n          <span key={i}>\r\n            {(i < avgReview) ? star : emptyStar}\r\n          </span>\r\n        );\r\n      })}\r\n\r\n      {onlyStars && book.reviews?.length > 0 && <span className=\"reviews-count\">{book.reviews.length} product ratings</span>}\r\n    </section>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/sale.42c37915.png\";","import React, {useState, useEffect} from 'react';\r\nimport {useParams, useNavigate} from 'react-router-dom';\r\nimport {bookService} from '../services/bookService';\r\nimport {BookReviews} from './BookReviews';\r\nimport './BookDetails.css';\r\nimport onSaleImage from '../images/sale.png';\r\nimport {AiOutlineCaretRight, AiFillCaretLeft} from \"react-icons/ai\";\r\n\r\nexport const BookDetails = () => {\r\n  const [book, setBook] = useState({});\r\n  const [bookDesc, setBookDesc] = useState();\r\n  const [bookId, setBookId] = useState(null);\r\n  const [showMore, setShowMore] = useState(false);\r\n  const [onlyStars, setOnlyStars] = useState(true);\r\n\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n  const date = new Date(book.created).toLocaleString();\r\n  const dateLength = date.split(',')[0].length;\r\n  const fixedDate = dateLength === 8 ? date.slice(0, 8) : dateLength === 9 ? date.slice(0, 9) : date.slice(0, 10);\r\n\r\n  useEffect(() => {\r\n    const loadBook = async () => {\r\n      setBookId(params.bookId);\r\n      const bookData = await bookService.getBookById(bookId);\r\n      bookData ? setBook(bookData) : setBook({});\r\n      bookData ? setBookDesc(bookData.description) : setBook([]);\r\n\r\n    };\r\n    loadBook();\r\n  }, [book, params.bookId, bookId, onlyStars, bookDesc]);\r\n\r\n  const toggleStars = () => {\r\n    if (book.reviews?.length > 0) setOnlyStars(!onlyStars);\r\n  };\r\n\r\n  const onPagination = async (val) => {\r\n    val = +val;\r\n    const newBookId = await bookService.getBookIdToRender(bookId, val);\r\n    navigate(`/book/${ newBookId }`);\r\n  };\r\n\r\n  return (\r\n    <section className=\"book-container\">\r\n      {book.length === 0 && <h1>Loading...</h1>}\r\n      <div className=\"books-pagination\">\r\n        <AiFillCaretLeft onClick={() => onPagination('-1')} />\r\n        <AiOutlineCaretRight onClick={() => onPagination('1')} />\r\n      </div>\r\n      <div className=\"book-details\">\r\n        <div className=\"image-container\">\r\n          <img className=\"book-img\" src={book.imgUrl} alt=\"\" />\r\n          {book.isOnSale && <img className=\"onsale-img\" src={onSaleImage} alt=\"\" />}\r\n          {/* <h3 className=\"reading-mode\">{book.readingLength}</h3> */}\r\n        </div>\r\n        <div className=\"book-info\">\r\n          <h1 className=\"book-details-title\">{book.title}</h1>\r\n          <h2 className=\"book-author\">by {book.author}</h2>\r\n          <div className=\"book-reviews-container\" onClick={toggleStars}>\r\n            {onlyStars && <BookReviews onlyStars={onlyStars} book={book} />}\r\n            {!onlyStars && <BookReviews onlyStars={onlyStars} book={book} />}\r\n          </div>\r\n          <h3>Publication date: {fixedDate}</h3>\r\n          <h4>Price: ${book.price}</h4>\r\n          <a href={`/book/${ book.id }/addreview`}>Write a review</a>\r\n          <div className=\"description-container\">\r\n            <span className=\"about-product\">About this product</span>\r\n            <span className=\"product-info\">Product Information</span>\r\n            <p>{bookDesc && bookDesc.slice(0, 30)}\r\n              {!showMore && <span className=\"show-more\" onClick={() => setShowMore(true)}> ... Show more</span>}\r\n              {showMore && bookDesc && <span className=\"more-text\">{bookDesc.slice(30)}</span>}\r\n              {showMore && <span className=\"show-less\" onClick={() => setShowMore(false)}> ... Show less</span>}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <a className=\"Back-to-list\" href={'/book'} >Back to list</a>\r\n    </section>\r\n  );\r\n};\r\n","import React, {useState, useEffect} from 'react';\r\nimport {useNavigate, useParams} from 'react-router-dom';\r\nimport {bookService} from '../services/bookService';\r\nimport {eventBusService} from '../../../services/eventBusService';\r\nimport './AddReview.css';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\n\r\n\r\nexport const AddReview = () => {\r\n  const [book, setBook] = useState({});\r\n  const [bookId, setBookId] = useState(null);\r\n  const [onOverItem, setOnOverItem] = useState('');\r\n  const [reviewInfo, setReviewInfo] = useState({\r\n    fullName: '', rate: '', body: '', reviewtitle: ''\r\n  });\r\n  const params = useParams();\r\n  let navigate = useNavigate();\r\n\r\n  const emptyStar = <FontAwesomeIcon icon={['far', 'star']} size=\"2x\" />;\r\n  const solidStar = <FontAwesomeIcon icon={['fas', 'star']} color='#f18e0c' size=\"2x\" />;\r\n  const emptyStarsArr = Array(5).fill(emptyStar);\r\n\r\n  useEffect(() => {\r\n    const loadBook = async () => {\r\n      setBookId(params.bookId);\r\n      const bookData = await bookService.getBookById(bookId);\r\n      bookData ? setBook(bookData) : setBook([]);\r\n    };\r\n    loadBook();\r\n  }, [book, params.bookId, bookId]);\r\n\r\n  const onRate = (i) => {\r\n    setReviewInfo(oldValues => ({...oldValues, 'rate': i + 1}));\r\n    setOnOverItem(i);\r\n  };\r\n\r\n  const onMouseLeaveHandler = (ev) => {\r\n    ev.preventDefault();\r\n    if (!reviewInfo.rate) setOnOverItem(0);\r\n  };\r\n\r\n  const onAddReview = async (ev) => {\r\n    ev.preventDefault();\r\n    await bookService.addReview(bookId, reviewInfo);\r\n    navigate(`/book/${ bookId }`);\r\n    eventBusService.emit('showMsg', 'Review Added');\r\n  };\r\n\r\n  const onInputChange = ({target: {value, type, name}}) => {\r\n    value = type === \"number\" ? +value : value;\r\n    setReviewInfo(oldValues => ({...oldValues, [name]: value}));\r\n  };\r\n\r\n  return (\r\n    <form className=\"review-form\" onSubmit={onAddReview}>\r\n      <h2 className=\"rate-and-review\">RATE AND REVIEW</h2>\r\n      <h1 className=\"addreview-book-title\">{book.title}</h1>\r\n      <div className=\"rate-container\">\r\n        <h2 className=\"rate-product\">Rate this product</h2>\r\n        <ul className=\"stars-container\">\r\n          {emptyStarsArr.map((emptyStar, i) => {\r\n            return (\r\n              <li key={i} onMouseOver={() => setOnOverItem(i)}\r\n                onClick={() => onRate(i)}\r\n                onMouseLeave={onMouseLeaveHandler}\r\n              >\r\n                {onOverItem === '0' ? solidStar : (i > onOverItem) ? emptyStar : solidStar}\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n      <div className=\"fullname-container\">\r\n        <label htmlFor=\"fullName\">Your name</label>\r\n        <input type=\"text\" autoFocus\r\n          id=\"fullName\"\r\n          placeholder=\"Full name\"\r\n          name=\"fullName\"\r\n          value={reviewInfo.name}\r\n          onChange={onInputChange}\r\n        />\r\n      </div>\r\n      <div className=\"product-review-container\">\r\n        <label htmlFor=\"comment\">Write your product review</label>\r\n        <textarea id=\"comment\" cols=\"90\" rows=\"10\" name=\"body\" value={reviewInfo.name}\r\n          placeholder=\"Describe the pros, cons, and other highlights\"\r\n          onChange={onInputChange} >\r\n        </textarea>\r\n      </div>\r\n      <div className=\"product-review-container\">\r\n        <label htmlFor=\"reviewtitle\">Review title</label>\r\n        <input type=\"text\"\r\n          id=\"reviewtitle\"\r\n          placeholder=\"Sum it up in a few words\"\r\n          name=\"reviewtitle\"\r\n          value={reviewInfo.reviewtitle}\r\n          onChange={onInputChange}\r\n        />\r\n      </div>\r\n      <div className=\"addReview-action-btns\">\r\n        <a className=\"cancel-addReview\" href={`/book/${ book.id }`} >Cancel</a>\r\n        <button className=\"add-review-btn\" type=\"submit\">Submit</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","import {useEffect, useRef} from 'react'\r\n\r\nexport const useClickOutside = (handler) => {\r\n  let domNode = useRef();\r\n\r\n  useEffect(() => {\r\n    let mousedownHandler = (event) => {\r\n      if (domNode.current && !domNode.current.contains(event.target)) {\r\n        handler();\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", mousedownHandler);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", mousedownHandler);\r\n    };\r\n  });\r\n  return domNode;\r\n};","import React, {useEffect} from 'react';\r\nimport './AddCalendarEvent.css'\r\n// import {gapi} from 'gapi-script';\r\n\r\n//export a function that gets start time(date picker), location, name \r\nexport const AddCalendarEvent = ({dateAndTime, title, addReminderToEvent, bodyStr}) => {\r\n  var gapi = window.gapi;\r\n  // Client ID and API key from the Developer Console\r\n  // {\"web\": {\"client_id\": \"928877465631-qf1r3883erpg172svp9bkgkdav43l97g.apps.googleusercontent.com\", \"project_id\": \"note-react-336610\", \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\", \"token_uri\": \"https://oauth2.googleapis.com/token\", \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\", \"client_secret\": \"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\";} }\r\n  var CLIENT_ID = '928877465631-qf1r3883erpg172svp9bkgkdav43l97g.apps.googleusercontent.com';\r\n  var API_KEY = 'AIzaSyDivjN_GL-BhyA8Xar0g2Bfr0rwHiByptY';\r\n\r\n  // Array of API discovery doc URLs for APIs used by the quickstart\r\n  var DISCOVERY_DOCS = [\"https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest\"];\r\n\r\n  // Authorization scopes required by the API; multiple scopes can be\r\n  // included, separated by spaces.\r\n  var SCOPES = 'https://www.googleapis.com/auth/calendar.events';\r\n\r\n  useEffect(() => {\r\n\r\n  }, [gapi]);\r\n\r\n  const handleClick = () => {\r\n    addReminderToEvent();\r\n    gapi.load('client:auth2', () => {\r\n      console.log('loaded client');\r\n\r\n      gapi.client.init({\r\n        apiKey: API_KEY,\r\n        clientId: CLIENT_ID,\r\n        discoveryDocs: DISCOVERY_DOCS,\r\n        scope: SCOPES,\r\n      });\r\n\r\n      gapi.client.load('calendar', 'v3', () => console.log('bam!'));\r\n      //time zone list:\r\n      // https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n      let timeZone = \"Asia/Jerusalem\";\r\n      let duration = '00:30:00'; //duration of each event, here 30 minuts\r\n      //event start time - im passing datepicker time, and making it match      \r\n      //with the duration time, you can just put iso strings:\r\n      //2020-06-28T09:00:00-07:00' \r\n\r\n      let isoStringDate = `${ dateAndTime.startDate }T${ dateAndTime.startTime }:00+02:00`;\r\n      // let startDate = new Date('2020-06-28T09:00:00-07:00');\r\n      let startDate = new Date(isoStringDate);\r\n      let msDuration = (Number(duration.split(':')[0]) * 60 * 60 + Number(duration.split(':')[1]) * 60 + Number(duration.split(':')[2])) * 1000;\r\n      let endDate = new Date(startDate.getTime() + msDuration);\r\n      let isoStartDate = new Date(startDate.getTime() - new Date().getTimezoneOffset() * 60 * 1000).toISOString().split(\".\")[0];\r\n      let isoEndDate = new Date(endDate.getTime() - (new Date().getTimezoneOffset()) * 60 * 1000).toISOString().split(\".\")[0];\r\n\r\n      let freq = dateAndTime.occurrence === 'does-not-repeat' ? 'DAILY' : dateAndTime.occurrence;\r\n      let count = dateAndTime.occurrence === 'does-not-repeat' ? '1' : '10';\r\n\r\n      //sign in with pop up window\r\n      gapi.auth2.getAuthInstance().signIn()\r\n        .then(() => {\r\n          let event = {\r\n            'summary': `${ title }`, // or event name\r\n            'location': 'address', //where it would happen\r\n            'description': `${ bodyStr }`,\r\n            'start': {\r\n              'dateTime': isoStartDate,\r\n              'timeZone': timeZone\r\n            },\r\n            'end': {\r\n              'dateTime': isoEndDate,\r\n              'timeZone': timeZone\r\n            },\r\n            'recurrence': [\r\n              `RRULE:FREQ=${ freq };COUNT=${ count }`\r\n            ],\r\n            'reminders': {\r\n              'useDefault': false,\r\n              'overrides': [\r\n                {'method': 'popup', 'minutes': 20}\r\n              ]\r\n            }\r\n          };\r\n\r\n          //if you need to list your events than keep it\r\n          // gapi.client.calendar.events.list({\r\n          //   'calendarId': 'primary',\r\n          //   'timeMin': (new Date()).toISOString(),\r\n          //   'showDeleted': false,\r\n          //   'singleEvents': true,\r\n          //   'maxResults': 10,\r\n          //   'orderBy': 'startTime'\r\n          // }).then(response => {\r\n          //   const events = response.result.items;\r\n          //   console.log('EVENTS: ', events);\r\n          // });\r\n          //end of event listing\r\n\r\n          let request = gapi.client.calendar.events.insert({\r\n            'calendarId': 'primary',\r\n            'resource': event,\r\n          });\r\n\r\n          request.execute(event => {\r\n            console.log(event);\r\n            // window.open(event.htmlLink);\r\n          });\r\n        });\r\n    });\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"addToCalender-container\">\r\n      <button className=\"addToCalender-btn\" onClick={handleClick}>Save</button>\r\n    </div>\r\n  );\r\n};\r\n","import React, {useState} from 'react';\r\nimport 'date-fns';\r\nimport {TextField} from '@material-ui/core';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport Select from '@mui/material/Select';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport {AddCalendarEvent} from './AddCalendarEvent ';\r\nimport './ReminderForm.css';\r\n\r\nexport const ReminderForm = ({title, closeForm, bodyStr, isDetailed}) => {\r\n  const [dateAndTime, setDateAndTime] = useState({\r\n    startDate: '', startTime: '', occurrence: 'does-not-repeat'\r\n  });\r\n\r\n  const recurrenceArr = [\r\n    {\r\n      id: 1,\r\n      value: 'DAILY',\r\n      label: 'Daily',\r\n    },\r\n    {\r\n      id: 2,\r\n      value: 'WEEKLY',\r\n      label: 'Weekly',\r\n    },\r\n    {\r\n      id: 3,\r\n      value: 'MONTHLY',\r\n      label: 'Monthly',\r\n    },\r\n    {\r\n      id: 4,\r\n      value: 'YEARLY',\r\n      label: 'Yearly',\r\n    },\r\n    {\r\n      id: 5,\r\n      value: 'does-not-repeat',\r\n      label: 'Does not repeat',\r\n    }\r\n  ];\r\n\r\n  const onInputChange = ({target: {name, value}}) => {\r\n    setDateAndTime(oldValues => ({...oldValues, [name]: value}));\r\n  };\r\n\r\n  const addReminder = () => {\r\n    closeForm();\r\n    const currentTimeMili = Date.parse(new Date().toISOString());\r\n    let duration;\r\n    if (dateAndTime.startDate && dateAndTime.startTime) {\r\n      const meetingTime = `${ dateAndTime.startDate }T${ dateAndTime.startTime }:00+02:00`;\r\n      let meetingTimeMili = Date.parse(new Date(meetingTime).toISOString());\r\n      duration = meetingTimeMili - currentTimeMili;\r\n    };\r\n    const timer = setTimeout(() => {\r\n      alert(`reminder: ${ title }`);\r\n    }, duration);\r\n    return () => clearTimeout(timer);\r\n  };\r\n\r\n  return (\r\n    <div className={`todo-reminder ${ isDetailed ? \"detailed\" : \"\" }`}>\r\n      <div className=\"reminder-title\">Pick date &amp; time</div>\r\n      <hr />\r\n      <FormControl className=\"reminder-form\" variant=\"standard\"\r\n        sx={{m: 1, minWidth: 120, input: {color: '#3c4043'}}}>\r\n        <TextField\r\n          id=\"date\"\r\n          type=\"date\"\r\n          name=\"startDate\"\r\n          value={dateAndTime.startDate}\r\n          onChange={onInputChange}\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          className=\"reminder-textfield\"\r\n          style={{borderBottom: 'red'}}\r\n        />\r\n        <TextField\r\n          id=\"time\"\r\n          name=\"startTime\"\r\n          type=\"time\"\r\n          value={dateAndTime.startTime}\r\n          onChange={onInputChange}\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n        />\r\n        <Select\r\n          labelId=\"demo-simple-select-standard-label\"\r\n          id=\"demo-simple-select-standard\"\r\n          value={dateAndTime.occurrence}\r\n          onChange={onInputChange}\r\n          name='occurrence'\r\n          className=\"reminder-select\"\r\n        >\r\n          {recurrenceArr.map((option) => (\r\n            <MenuItem key={option.id} value={option.value}>\r\n              {option.label}\r\n            </MenuItem  >\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n      <AddCalendarEvent dateAndTime={dateAndTime} bodyStr={bodyStr} title={title} addReminderToEvent={addReminder} />\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport './ShareButtons.css';\r\nimport {\r\n  EmailShareButton, WhatsappShareButton, EmailIcon, WhatsappIcon\r\n} from \"react-share\";\r\n\r\nexport const ShareButtons = ({title, bodyStr, isDetailed}) => {\r\n\r\n\r\n  return (\r\n    <div className={`shareBtns-container ${ isDetailed ? 'detailed' : '' }`}>\r\n      <WhatsappShareButton\r\n        url=\"https://web.whatsapp.com/\"\r\n        title={title}\r\n      >\r\n        <WhatsappIcon size={40} round={true} />\r\n      </WhatsappShareButton>\r\n      <EmailShareButton\r\n        url=\"https://mail.google.com/mail/u/0/#inbox?compose=new\"\r\n        subject={title}\r\n        body={bodyStr}\r\n      >\r\n        <EmailIcon size={40} round={true} />\r\n      </EmailShareButton>\r\n    </div>\r\n  );\r\n};\r\n","import React, {useState, useEffect} from 'react';\r\nimport {keepService} from \"../services/keepService\";\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport CloudUploadOutlinedIcon from '@mui/icons-material/CloudUploadOutlined';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport {useWindowSize} from \"./../../../services/useWindowSize\";\r\nimport './UploadImage.css';\r\n\r\nexport const UploadImage = ({noteId, isImageLoad, isBgImage, isMainMenuUpload, newListIconLeftDis, newImgUploaded}) => {\r\n  const [isLoadingImg, setIsLoadingImg] = useState(false);\r\n  const [uploadedFile, setUploadedFile] = useState('');\r\n  const [isNewImgUploaded, setIsNewImgUploaded] = useState(false);\r\n  const size = useWindowSize();\r\n  const windowWidth = size.width;\r\n\r\n  useEffect(() => {\r\n    const uploadedImgStatus = {\r\n      isLoaded: isLoadingImg,\r\n      file: uploadedFile\r\n    };\r\n    isImageLoad(uploadedImgStatus);\r\n  }, [isLoadingImg, uploadedFile, isImageLoad]);\r\n\r\n  useEffect(() => {\r\n  }, [noteId, isImageLoad]);\r\n\r\n  const onUploadImage = async (e) => {\r\n    try {\r\n      setIsLoadingImg(true);\r\n      const files = e.target.files;\r\n      const formData = new FormData();\r\n      formData.append('file', files[0]);\r\n      formData.append('upload_preset', 'keepapp');\r\n      const res = await fetch(\r\n        'https://api.cloudinary.com/v1_1/dqehfu3kx/auto/upload',\r\n        {\r\n          method: 'POST',\r\n          body: formData\r\n        }\r\n      );\r\n      const file = await res.json();\r\n      setUploadedFile(file);\r\n\r\n      const imageType = isBgImage ? \"isBgImage\" : \"isCanvasUploaded\";\r\n\r\n      if (noteId) {\r\n        await keepService.uploadImage(file, noteId, imageType);\r\n      } else {\r\n        const newNote = await keepService.addNewNote('NoteMedia');\r\n        await keepService.uploadImage(file, newNote.id, imageType);\r\n        setIsNewImgUploaded(true)\r\n      }\r\n      setIsLoadingImg(false);\r\n      if (isNewImgUploaded) newImgUploaded(true);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`image-upload ${ isMainMenuUpload ? \"onMainMenu\" : \"\" }`}\r\n      style={{left: `${ windowWidth > 720 ? (newListIconLeftDis + 75) : (newListIconLeftDis + 75) }px`}}>\r\n      <Tooltip title=\"Upload media\">\r\n        <IconButton>\r\n          <label htmlFor={`${ isMainMenuUpload ? \"directFile-input\" : \"file-input\" }`}>\r\n            <CloudUploadOutlinedIcon />\r\n          </label>\r\n        </IconButton>\r\n      </Tooltip>\r\n\r\n      <input style={{width: 0, height: 0}} id={`${ isMainMenuUpload ? \"directFile-input\" : \"file-input\" }`} type=\"file\"\r\n        onChange={onUploadImage}  />\r\n    </div>\r\n  );\r\n};\r\n","import React, {useState} from 'react';\r\nimport {CirclePicker } from 'react-color';\r\nimport {keepService} from '../services/keepService';\r\nimport './ColorPicker.css'\r\n\r\nexport const ColorPicker = ({noteId, isDetailed}) => {\r\n  const [bgColor, setBgColor] = useState('#9ff59f')\r\n\r\n  const handleChangeComplete = async(color)=>{\r\n    setBgColor(color.hex)\r\n    await keepService.modifyColor(color.hex, noteId)\r\n  }\r\n\r\n  return (\r\n    <div className={`circlePicker-container ${ isDetailed ?'detailed':''}`}>\r\n      <CirclePicker\r\n        color={bgColor}\r\n        onChangeComplete={handleChangeComplete }\r\n        width={380}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import React, {useState, useRef, useEffect, useCallback} from 'react';\r\nimport {UploadImage} from './UploadImage';\r\nimport CanvasDraw from \"react-canvas-draw\";\r\nimport {keepService} from '../services/keepService';\r\nimport {useWindowSize} from '../../../services/useWindowSize';\r\nimport './CanvasDrawing.css';\r\nimport {BsEraserFill} from \"react-icons/bs\";\r\nimport {ImUndo2} from \"react-icons/im\";\r\nimport {AiFillPicture} from \"react-icons/ai\";\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\n// import {useIsMobileOrTablet} from \"./../../../services/isMobileOrTablet\";\r\n\r\nexport const CanvasDrawing = ({noteId, isDetailed, isNewNoteWithDrw, uploadedImage, scrollCanvasToView, newCanvasUploaded, isRefreshRequired}) => {\r\n  const [isUploadShown, setIsUploadShown] = useState(false);\r\n  const [isLoadingImg, setIsLoadingImg] = useState(false);\r\n  const [uploadedFile, setUploadedFile] = useState('');\r\n  const [newNoteWithDraw, setNewNoteWithDraw] = useState(false);\r\n  const [canvasWidth, setCanvasWidth] = useState();\r\n  const [windowWidth, setWindowWidth] = useState();\r\n  const [imgSrc, setImgSrc] = useState('');\r\n  const size = useWindowSize();\r\n  const drawingContainerRef = useRef(null);\r\n\r\n  const canvasLeftMargin = windowWidth > 720 ? 0.5 * (windowWidth - canvasWidth) : 0;\r\n\r\n  const isImageLoad = useCallback(({isLoaded, file}) => {\r\n    setIsLoadingImg(isLoaded);\r\n    file ? setUploadedFile(file.url) : setUploadedFile(uploadedFile);\r\n  }, [uploadedFile]);\r\n\r\n  const calculateCanvasWidth = useCallback(() => {\r\n    let width;\r\n    if (windowWidth > 720) {\r\n      width = isNewNoteWithDrw ? 500 : 300;\r\n    } else {\r\n      width = drawingContainerRef.current.clientWidth;\r\n    }\r\n    return width;\r\n  }, [windowWidth,isNewNoteWithDrw, drawingContainerRef]);\r\n\r\n  useEffect(() => {\r\n    setWindowWidth(size.width);\r\n    setCanvasWidth(calculateCanvasWidth());\r\n    setNewNoteWithDraw(isNewNoteWithDrw);\r\n    uploadedImage ? setImgSrc(uploadedImage) : setImgSrc(uploadedFile);\r\n    imgSrc ? setIsUploadShown(false) : setIsUploadShown(isUploadShown);\r\n  }, [isLoadingImg, imgSrc, size.width, canvasWidth, calculateCanvasWidth, uploadedImage, uploadedFile, isImageLoad, isUploadShown, noteId, isNewNoteWithDrw]);\r\n\r\n  const useStyles = makeStyles(theme => ({\r\n    customHover: {\r\n      \"&:hover, &.Mui-focusVisible\": {borderRadius: '0'}\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  // const isMobOrTab = useIsMobileOrTablet();\r\n  const canvasRef = useRef();\r\n\r\n  const handleChange = async (ev) => {\r\n    const drawing = canvasRef.current.getDataURL();\r\n    const imageType = 'canvasDrawing';\r\n    await keepService.uploadImage(drawing, noteId, imageType);\r\n    if (isNewNoteWithDrw) {\r\n      const reloadTimeout = setTimeout(() => {\r\n        isRefreshRequired(true);\r\n      }, 500);\r\n      newCanvasUploaded(true);\r\n      clearTimeout(reloadTimeout);\r\n    }\r\n    else {\r\n      const reloadTimeout = await setTimeout(() => {\r\n        scrollCanvasToView();\r\n        clearTimeout(reloadTimeout);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const onInsertUrl = async (e) => {\r\n    const imageUrl = e.target.value;\r\n    const imageType = 'imageUrl';\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', imageUrl);\r\n    formData.append('upload_preset', 'keepapp');\r\n    setIsLoadingImg(true);\r\n    const res = await fetch(\r\n      'https://api.cloudinary.com/v1_1/dqehfu3kx/auto/upload',\r\n      {\r\n        method: 'POST',\r\n        body: formData,\r\n        header: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Access-Control-Allow-Header': 'Origin',\r\n          'Access-Control-Allow-Credentials': true\r\n        }\r\n      }\r\n    );\r\n    const file = await res.json();\r\n    setUploadedFile(file.url);\r\n    await keepService.uploadImage(file, noteId, imageType);\r\n    setIsLoadingImg(false);\r\n  };\r\n\r\n  const erase = () => {\r\n    canvasRef.current.eraseAll();\r\n  };\r\n\r\n  const undoLast = () => {\r\n    canvasRef.current.undo();\r\n  };\r\n\r\n  const openUploadMenu = () => {\r\n    setIsUploadShown(true);\r\n  };\r\n\r\n  return (\r\n    <div className={`canvasDrawing-container ${ isDetailed ? \"detailed\" : \"\" }`}\r\n      ref={drawingContainerRef}\r\n      style={{\r\n        top: `${ isNewNoteWithDrw ? '0' : '-200' }px`,\r\n        left: `${ isNewNoteWithDrw ? canvasLeftMargin : '0' }px`,\r\n        width: `${ windowWidth < 720 ? \"100%\" : '' }`\r\n      }}>\r\n      {/* <p>\r\n        Use your {isMobOrTab ? \"finger\" : \"mouse\"} to draw{\" \"}\r\n      </p> */}\r\n      {!isUploadShown && <div>\r\n        <Tooltip title=\"Erase\">\r\n          <IconButton className={classes.customHover} onClick={erase}>\r\n            <BsEraserFill />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip title=\"Undo\">\r\n          <IconButton className={classes.customHover} onClick={undoLast}>\r\n            <ImUndo2 />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip title=\"Upload background image\">\r\n          <IconButton className={classes.customHover} onClick={openUploadMenu}>\r\n            <AiFillPicture />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </div>}\r\n\r\n\r\n      {isUploadShown && <div className=\"uploadMenu-container\">\r\n        <UploadImage noteId={noteId} isBgImage={false} isCanvas={true} newNoteWithDrw={newNoteWithDraw}\r\n          isImageLoad={isImageLoad} />\r\n        <input type=\"url\" placeholder=\"insert image Url\" id=\"image-input\" onChange={onInsertUrl} />\r\n      </div>}\r\n      {isLoadingImg && <h3>Loading...</h3>}\r\n\r\n      <CanvasDraw\r\n        canvasWidth={canvasWidth}\r\n        canvasHeight={200}\r\n        lazyRadius={0}\r\n        brushRadius={1}\r\n        brushColor={\"#444\"}\r\n        onChange={handleChange}\r\n        enablePanAndZoom\r\n        hideGrid={true}\r\n        ref={canvasRef}\r\n        saveData={localStorage.setItem(\"savedImage\", canvasRef.current?.getSaveData())}\r\n        imgSrc={imgSrc}\r\n        style={{\r\n          boxShadow:\r\n            \"0 13px 27px -5px rgba(50, 50, 93, 0.25), 0 8px 16px -8px rgba(0, 0, 0, 0.3)\",\r\n        }}\r\n      />\r\n    </div >\r\n  );\r\n};\r\n","import * as React from 'react';\r\nimport { keepService } from '../services/keepService';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\n\r\nconst options = [\r\n  'delete',\r\n  // 'None',\r\n  // 'Atria',\r\n  // 'Callisto',\r\n  // 'Dione',\r\n  // 'Ganymede',\r\n  // 'Hangouts Call',\r\n  // 'Luna',\r\n  // 'Oberon',\r\n  // 'Phobos',\r\n  // 'Pyxis',\r\n  // 'Sedna',\r\n  // 'Titania',\r\n  // 'Triton',\r\n  // 'Umbriel',\r\n];\r\n\r\nconst ITEM_HEIGHT = 48;\r\n\r\nexport default function LongMenu ({noteId, updateNotesList}) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = async() => {\r\n    setAnchorEl(null);\r\n    const updatedNotes=await keepService.deleteNote(noteId)\r\n    updateNotesList(updatedNotes)\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-label=\"more\"\r\n        id=\"long-button\"\r\n        aria-controls={open ? 'long-menu' : undefined}\r\n        aria-expanded={open ? 'true' : undefined}\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n      >\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n      <Menu\r\n        id=\"long-menu\"\r\n        MenuListProps={{\r\n          'aria-labelledby': 'long-button',\r\n        }}\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleClose}\r\n        PaperProps={{\r\n          style: {\r\n            maxHeight: ITEM_HEIGHT * 4.5,\r\n            width: '9ch',\r\n          },\r\n        }}\r\n      >\r\n        {options.map((option) => (\r\n          <MenuItem key={option} selected={option === 'delete'} onClick={handleClose}>\r\n            {option}\r\n          </MenuItem>\r\n        ))}\r\n      </Menu>\r\n    </div>\r\n  );\r\n}","import React, {useState, useEffect} from 'react';\r\nimport {useClickOutside} from '../../../cmps/useClickOutside';\r\nimport {ReminderForm} from './ReminderForm';\r\nimport {ShareButtons} from './ShareButtons';\r\nimport {UploadImage} from \"./UploadImage\";\r\nimport {ColorPicker} from \"./ColorPicker\";\r\nimport {CanvasDrawing} from './CanvasDrawing';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport AddAlertOutlinedIcon from '@mui/icons-material/AddAlertOutlined';\r\nimport ShareOutlinedIcon from '@mui/icons-material/ShareOutlined';\r\nimport ColorLensOutlinedIcon from '@mui/icons-material/ColorLensOutlined';\r\nimport BrushOutlinedIcon from '@mui/icons-material/BrushOutlined';\r\nimport LongMenu from \"./LongMenu\";\r\nimport './ActionButtons.css';\r\n\r\nexport const ActionButtons = ({note, title, items, noteId, isImage, uploadedImage, isDetailed, closeDetailedMenu, updateNotesList, scrollNoteToView}) => {\r\n  const [isFormOpen, setIsFormOpen] = useState(false);\r\n  const [isShareOpen, setIsShareOpen] = useState(false);\r\n  const [isModifyBg, setIsModifyBg] = useState(false);\r\n  const [isDrawMenuOpen, setIsDrawMenuOpen] = useState(false);\r\n  const [isBgImage, setIsBgImage] = useState(true);\r\n  const [currentNoteId, setCurrentNoteId] = useState(noteId);\r\n\r\n\r\n  useEffect(() => {\r\n    noteId ? setCurrentNoteId(noteId) : setCurrentNoteId(currentNoteId);\r\n  }, [isBgImage, noteId, currentNoteId]);\r\n\r\n  let actionButtonsRef = useClickOutside(() => {\r\n    setIsModifyBg(false);\r\n    setIsFormOpen(false);\r\n    setIsShareOpen(false);\r\n    setIsDrawMenuOpen(false);\r\n    setIsBgImage(true);\r\n\r\n  });\r\n\r\n  let bodyStr = items?.reduce((acc, item) => {\r\n    return acc + item.txt + \"\\n\";\r\n  }, '');\r\n  bodyStr = bodyStr?.concat(\"\\n\");\r\n\r\n  const onToggleForm = () => {\r\n    if (!isFormOpen) {\r\n      setIsShareOpen(false);\r\n      setIsModifyBg(false);\r\n      setIsDrawMenuOpen(false);\r\n    }\r\n    setIsFormOpen(!isFormOpen);\r\n  };\r\n\r\n  const onCloseForm = () => {\r\n    setIsFormOpen(false);\r\n  };\r\n\r\n  const onToggleShare = () => {\r\n    if (!isShareOpen) {\r\n      setIsFormOpen(false);\r\n      setIsModifyBg(false);\r\n      setIsDrawMenuOpen(false);\r\n    }\r\n    setIsShareOpen(!isShareOpen);\r\n  };\r\n\r\n  const onToggleDraw = () => {\r\n    setIsFormOpen(false);\r\n    setIsShareOpen(false);\r\n    setIsModifyBg(false);\r\n    setIsDrawMenuOpen(!isDrawMenuOpen);\r\n    setIsBgImage(false);\r\n  };\r\n\r\n  const onToggleBg = () => {\r\n    setIsFormOpen(false);\r\n    setIsShareOpen(false);\r\n    setIsDrawMenuOpen(false);\r\n    setIsModifyBg(!isModifyBg);\r\n  };\r\n\r\n  const scrollingTiming = async () => {\r\n    const scrollTimeout = await setTimeout(() => {\r\n      scrollNoteToView();\r\n      clearTimeout(scrollTimeout);\r\n    }, 200);\r\n  };\r\n  \r\n  const isImageLoad = ({isLoaded}) => {\r\n    isImage(isLoaded);\r\n    if (isLoaded) {\r\n      scrollingTiming();\r\n    }\r\n  };\r\n  \r\n  const scrollCanvasToView = () => {\r\n    scrollingTiming();\r\n  };\r\n\r\n  return (\r\n    <div ref={actionButtonsRef} className={`actionButtons-container ${ isDetailed ? 'detailed' : '' }`}>\r\n      <Tooltip title=\"Remind me\">\r\n        <IconButton onClick={onToggleForm}>\r\n          <AddAlertOutlinedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n\r\n      <Tooltip title=\"Collaborate\">\r\n        <IconButton onClick={onToggleShare}>\r\n          <ShareOutlinedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n\r\n      <Tooltip title=\"Background options\">\r\n        <IconButton onClick={onToggleBg}>\r\n          <ColorLensOutlinedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n\r\n      <Tooltip title=\"Add drawing\">\r\n        <IconButton onClick={onToggleDraw}>\r\n          <BrushOutlinedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n\r\n\r\n      {isFormOpen && <ReminderForm title={title} isDetailed={isDetailed} bodyStr={bodyStr} closeForm={onCloseForm} />}\r\n      {isShareOpen && <ShareButtons title={title} isDetailed={isDetailed} bodyStr={bodyStr} />}\r\n      {isModifyBg && <ColorPicker isDetailed={isDetailed} noteId={noteId} />}\r\n      <UploadImage noteId={currentNoteId} note={note} isBgImage={isBgImage} isImageLoad={isImageLoad} />\r\n      {isDrawMenuOpen && <CanvasDrawing scrollCanvasToView={scrollCanvasToView} noteId={noteId} isDetailed={isDetailed} uploadedImage={uploadedImage} />}\r\n      <LongMenu noteId={noteId} updateNotesList={updateNotesList} />\r\n      {isDetailed && <IconButton className=\"closeBtn-container\" onClick={() => closeDetailedMenu()}>\r\n        <div className=\"closeBtn\">Close</div>\r\n      </IconButton>}\r\n    </div>\r\n  );\r\n};\r\n","import React, {useState, useEffect, useRef, useCallback} from 'react';\r\nimport {keepService} from \"./../services/keepService\";\r\nimport {ActionButtons} from \"./ActionButtons\";\r\nimport {useClickOutside} from '../../../cmps/useClickOutside';\r\nimport {useWindowSize} from '../../../services/useWindowSize';\r\nimport './NoteTodo.css';\r\nimport {RiPushpin2Fill, RiPushpin2Line} from \"react-icons/ri\";\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport ClearOutlinedIcon from '@mui/icons-material/ClearOutlined';\r\nimport ReactPlayer from 'react-player';\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport ProgressBar from 'react-bootstrap/ProgressBar';\r\nimport DeleteRoundedIcon from '@mui/icons-material/DeleteRounded';\r\n\r\nexport const NoteTodo = ({note, updateIsDetailedState, isNewList, updateNotesList, setNoteDims, scrollNoteToView, updateIsPinnedStatus, deleteMediaUpdate}) => {\r\n  const {info: {title}, style: {backgroundColor}, items, type,\r\n    uploadedFile: {fileType, fileUrl}, canvasDrawing: {drawnImage, uploadedImage}} = note;\r\n\r\n  const noteId = note.id;\r\n  const [isPinned, setIsPinned] = useState(false);\r\n  const [isDetailed, setIsDetailed] = useState(false);\r\n  const [isShown, setIsShown] = useState(false);\r\n  const [checkedItems, setCheckedItems] = useState(items ? items.filter(item => item.isChecked) : '');\r\n  const [unCheckedItems, setUnCheckedItems] = useState(items ? items.filter(item => !item.isChecked) : '');\r\n  const [isLoadingImg, setIsLoadingImg] = useState(false);\r\n  const [isFinishAddingTodo, setIsFinishAddingTodo] = useState(false);\r\n  const [newTodoTxt, setNewTodoTxt] = useState('');\r\n  const [mediaRemoveIconShown, setMediaRemoveIconShown] = useState(false);\r\n  const [canvasRemoveIconShown, setCanvasRemoveIconShown] = useState(false);\r\n  const [mediaCanvasHeight, setMediaCanvasHeight] = useState('');\r\n  const [noteTitle, setNoteTitle] = useState(title);\r\n  const [isEmptyObj, setIsEmptyObj] = useState(false);\r\n  const [noteHeight, setNoteHeight] = useState('');\r\n  const [mediaContainerHeight, setMediaContainerHeight] = useState('');\r\n  const noteTodoTopPercent = (fileUrl || drawnImage) ? 0.05 : 0.3;\r\n  const newTodoRef = useRef();\r\n  const mediaContainerRef = useRef();\r\n  const size = useWindowSize();\r\n  const windowHeight = size.height;\r\n  const windowWidth = size.width;\r\n  let gHightCorrectionCounter = 0;\r\n  let noteTodoRef = useClickOutside(() => {\r\n    setIsFinishAddingTodo(true);\r\n    setIsDetailed(false);\r\n  });\r\n  const curNoteHeight = noteTodoRef.current?.clientHeight;\r\n  const curNoteWidth = noteTodoRef.current?.clientWidth;\r\n\r\n  const calcMediaCanvasHeight = useCallback(() => {\r\n    let height;\r\n    if (isDetailed && (fileUrl && drawnImage)) {\r\n      height = Math.round(0.6 * windowHeight);\r\n    } else if (isDetailed && (fileType === \"image\" || drawnImage)) {\r\n      height = Math.round(1.08 * windowHeight);\r\n    } else if (fileType === \"image\" || drawnImage) {\r\n      height = Math.round(0.25 * windowHeight);\r\n    } else if (!fileUrl && !drawnImage) {\r\n      height = 0;\r\n    } else height = 'auto';\r\n    return `${ height }px`;\r\n  }, [windowHeight, fileUrl, isDetailed, drawnImage, fileType]);\r\n\r\n  const updateDimChange = useCallback(() => {\r\n    let HightCorrection = 0;\r\n    let dimensions;\r\n    const clientHeight = mediaContainerRef.current?.clientHeight;\r\n    const isImgAdded = clientHeight > mediaContainerHeight ? true : false;\r\n    if ((isImgAdded && fileUrl) && gHightCorrectionCounter === 0) {\r\n      HightCorrection = 157;\r\n      gHightCorrectionCounter++;\r\n    }\r\n    if ((isImgAdded && drawnImage) && gHightCorrectionCounter === 0) {\r\n      HightCorrection = 15;\r\n      gHightCorrectionCounter++;\r\n    }\r\n    setNoteHeight(curNoteHeight + HightCorrection);\r\n    if (mediaContainerHeight !== mediaContainerRef.current?.clientHeight) {\r\n      setMediaContainerHeight(mediaContainerRef.current?.clientHeight);\r\n    }\r\n    dimensions = {noteWidth: curNoteWidth, noteHeight: curNoteHeight + HightCorrection};\r\n    return dimensions;\r\n  }, [mediaContainerRef, fileUrl, drawnImage, mediaContainerHeight, gHightCorrectionCounter, curNoteHeight, curNoteWidth]);\r\n\r\n  useEffect(() => {\r\n    const isObjectEmpty = () => {\r\n      return ((title === null || title.length === 0) && items.length === 0 && !fileUrl && !drawnImage);\r\n    };\r\n    isObjectEmpty() ? setIsEmptyObj(true) : setIsEmptyObj(false);\r\n    setMediaCanvasHeight(calcMediaCanvasHeight());\r\n    updateIsDetailedState(isDetailed);\r\n  }, [size, fileUrl, isDetailed, items, title, drawnImage, updateIsDetailedState, mediaCanvasHeight, isShown, calcMediaCanvasHeight, isLoadingImg, backgroundColor, isFinishAddingTodo, newTodoTxt]);\r\n\r\n  useEffect(() => {\r\n    if (newTodoRef.current) newTodoRef.current.focus();\r\n    let dimensions = {noteWidth: curNoteWidth, noteHeight: curNoteHeight};\r\n    if (curNoteHeight && (curNoteHeight !== noteHeight)) {\r\n      dimensions = updateDimChange();\r\n      setNoteDims(dimensions);\r\n    }\r\n    setIsPinned(note.isPinned)\r\n  }, [newTodoTxt, setNoteDims, updateDimChange, note.isPinned, noteId, noteHeight, curNoteHeight, isPinned, curNoteWidth, fileType, isLoadingImg]);\r\n\r\n  useEffect(() => {\r\n    if (isNewList) setIsDetailed(true);\r\n  }, [isNewList]);\r\n\r\n  const closeDetailedMenu = () => {\r\n    setIsFinishAddingTodo(true);\r\n    setIsDetailed(false);\r\n  };\r\n\r\n  const handleChange = async ({target: {checked}}, index) => {\r\n    if (checked) {\r\n      await keepService.toggleCheck(noteId, unCheckedItems[index].id);\r\n      let updatedCheckedList = [unCheckedItems[index], ...checkedItems];\r\n      setCheckedItems(updatedCheckedList);\r\n      let updatedUncheckedList = [...unCheckedItems];\r\n      updatedUncheckedList.splice(index, 1);\r\n      setUnCheckedItems(updatedUncheckedList);\r\n    }\r\n    else {\r\n      await keepService.toggleCheck(noteId, checkedItems[index].id);\r\n      let updatedUncheckedList = [checkedItems[index], ...unCheckedItems];\r\n      setUnCheckedItems(updatedUncheckedList);\r\n      let updatedCheckedList = [...checkedItems];\r\n      updatedCheckedList.splice(index, 1);\r\n      setCheckedItems(updatedCheckedList);\r\n    }\r\n  };\r\n\r\n  const onAddNewTodo = async (e) => {\r\n    if (e.key === 'Enter' || isFinishAddingTodo) {\r\n      const newTodoItem = await keepService.addNewTodo(newTodoTxt, noteId);\r\n      setUnCheckedItems([...unCheckedItems, newTodoItem]);\r\n      setNewTodoTxt('');\r\n      setIsFinishAddingTodo(false);\r\n    }\r\n  };\r\n\r\n  const showButton = e => {\r\n    e.preventDefault();\r\n    setIsShown(true);\r\n  };\r\n\r\n  const hideButton = e => {\r\n    e.preventDefault();\r\n    setIsShown(false);\r\n  };\r\n\r\n  const onDeleteItem = async (itemId) => {\r\n    const updatedItemsList = await keepService.deleteItem(noteId, itemId);\r\n    setCheckedItems(updatedItemsList.filter(item => item.isChecked));\r\n    setUnCheckedItems(updatedItemsList.filter(item => !item.isChecked));\r\n    const refreshTimeout = setTimeout(() => {\r\n      window.location.reload(false);\r\n      clearTimeout(refreshTimeout);\r\n    }, 10);\r\n  };\r\n\r\n  const handleItemTextChange = async (ev, itemId, isChecked) => {\r\n    ev.preventDefault();\r\n    const updatedTxt = ev.target.value;\r\n    const listToUpdate = isChecked ? [...checkedItems] : [...unCheckedItems];\r\n    listToUpdate.forEach(item => {\r\n      if (item.id === itemId) {\r\n        item.txt = updatedTxt;\r\n      }\r\n    });\r\n    isChecked ? setCheckedItems(listToUpdate) : setUnCheckedItems(listToUpdate);\r\n    await keepService.editItemTxt(noteId, itemId, updatedTxt);\r\n  };\r\n\r\n  const handleTitleChange = async (ev) => {\r\n    setNoteTitle(ev.target.value);\r\n    await keepService.editTitle(noteId, noteTitle);\r\n  };\r\n\r\n  const onDeleteMedia = async (noteId, fileType) => {\r\n    await keepService.deleteMedia(noteId, fileType);\r\n    deleteMediaUpdate()\r\n  };\r\n  \r\n  const onDeleteCanvas = async (noteId) => {\r\n    await keepService.deleteCanvas(noteId);\r\n    deleteMediaUpdate()\r\n  };\r\n\r\n  const onMouseOverMediaCanvas = () => {\r\n    setMediaRemoveIconShown(true);\r\n    setCanvasRemoveIconShown(true);\r\n  };\r\n\r\n  const onMouseLeaveMediaCanvas = () => {\r\n    setMediaRemoveIconShown(false);\r\n    setCanvasRemoveIconShown(false);\r\n  };\r\n\r\n  const updateLoadingStatus = (isImage) => {\r\n    setIsLoadingImg(isImage);\r\n  };\r\n\r\n  const onToggleIsPinned=async()=>{\r\n    await keepService.toggleIsPinned(noteId)\r\n    setIsPinned(!isPinned)\r\n    updateIsPinnedStatus(noteId, isPinned)\r\n  }\r\n\r\n  return (\r\n    <div ref={noteTodoRef} className={`note-todo ${ isDetailed ? 'detailed' : '' }`}\r\n      style={{\r\n        backgroundColor: backgroundColor, maxHeight: `${ windowHeight * 0.74 }px`,\r\n        top: `${ isDetailed ? Math.round(noteTodoTopPercent * windowHeight) : '0' }px`,\r\n        left: `${ isDetailed ? Math.round((windowWidth - 600) / 2 - 200) : '0' }px`,\r\n        border: `${ fileType === \"video\" ? 'none' : '1px solid #52616b' }`\r\n      }}\r\n      onMouseEnter={e => showButton(e)} onMouseLeave={e => hideButton(e)}>\r\n      {!isPinned && <RiPushpin2Line className=\"pin\" style={{\r\n        right: `${ isDetailed ? '24' : '6' }px`,\r\n        backgroundColor: `${ fileType === \"video\" ? 'white' : '' }`\r\n      }}\r\n        onClick={onToggleIsPinned} />}\r\n      {isPinned && <RiPushpin2Fill className=\"pin\" style={{\r\n        right: `${ isDetailed ? '24' : '6' }px`,\r\n        backgroundColor: `${ fileType === \"video\" ? 'white' : '' }`\r\n      }}\r\n        onClick={onToggleIsPinned} />}\r\n      <div className=\"media_canvas-container\"\r\n        style={{overflowY: `${ (fileUrl || drawnImage) ? 'auto' : 'hidden' }`}}\r\n      >\r\n        <div className={`media_canvas ${ isDetailed ? 'detailed' : '' }`}\r\n          onMouseOver={onMouseOverMediaCanvas}\r\n          onMouseLeave={onMouseLeaveMediaCanvas}\r\n          onClick={() => setIsDetailed(true)}\r\n          style={{height: `${ mediaCanvasHeight }`}}>\r\n          <div ref={mediaContainerRef} className=\"media-container\"\r\n            style={{width: `${ fileUrl ? '100%' : '' }`}}\r\n          >\r\n            {fileType === \"image\" && <img className=\"uploaded-img\"\r\n              src={fileUrl} alt=\"\" style={{borderRadius: `${ drawnImage ? '8px 0 0 0' : '8px 8px 0 0' }`}}\r\n            />}\r\n            {fileType === \"video\" && <ReactPlayer url={fileUrl} width='100%'\r\n              height='100%' controls={true} />}\r\n            {(!fileUrl) && <ProgressBar animated now={100} />}\r\n            {isDetailed && fileUrl && mediaRemoveIconShown &&\r\n              <Tooltip title=\"Remove\">\r\n                <IconButton className=\"remove-media\" onClick={() => onDeleteMedia(noteId, fileType)}\r\n                  onMouseOver={() => setMediaRemoveIconShown(true)}\r\n                  onMouseLeave={() => setMediaRemoveIconShown(false)}\r\n                  style={{\r\n                    bottom: \"10px\",\r\n                    left: `${ !drawnImage ? 530 : 240 }px`,\r\n                    backgroundColor: `${ fileType === \"video\" ? '#dee2e6' : '' }`\r\n                  }}>\r\n                  <DeleteRoundedIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            }\r\n          </div>\r\n          {drawnImage && <img className=\"canvas-img\" src={drawnImage} alt=\"\"\r\n            style={{\r\n              backgroundImage: `url(${ uploadedImage })`,\r\n              borderRadius: `${ !fileUrl ? '8px 8px 0 0' : '0 8px 0 0' }`,\r\n              width: `${ !fileUrl ? '100%' : '50%' }`\r\n            }}\r\n          />}\r\n          {isDetailed && drawnImage && canvasRemoveIconShown && <Tooltip title=\"Remove\">\r\n            <IconButton className=\"remove-canvas\" onClick={() => onDeleteCanvas(noteId)}\r\n              style={{bottom: \"10px\"}}\r\n              onMouseOver={() => setCanvasRemoveIconShown(true)}\r\n              onMouseLeave={() => setCanvasRemoveIconShown(false)}\r\n            >\r\n              <DeleteRoundedIcon />\r\n            </IconButton>\r\n          </Tooltip>}\r\n\r\n        </div>\r\n        <div className=\"todo-list-container\">\r\n          <TextareaAutosize className=\"note-todo-title\" minRows={1}\r\n            value={noteTitle} placeholder={`${ isDetailed ? \"Title\" : type === \"NoteMedia\" ? \"Title\" : \"\" }`}\r\n            onChange={(ev) => handleTitleChange(ev)} onClick={() => setIsDetailed(true)} />\r\n          {isEmptyObj && !isDetailed && <h3 className=\"empty-note\">Empty note</h3>}\r\n          {unCheckedItems && <ul>\r\n            {unCheckedItems.map(({txt, id}, index) => {\r\n              const isChecked = false;\r\n              return (\r\n                <li key={index} >\r\n                  <input className=\"checkbox\" onChange={(ev) => handleChange(ev, index)}\r\n                    type=\"checkbox\" checked={isChecked} id={`checkbox-${ index }`} />\r\n                  <TextareaAutosize className=\"list-item\" minRows={1}\r\n                    value={txt} onClick={() => setIsDetailed(true)}\r\n                    onChange={(ev) => handleItemTextChange(ev, id, isChecked)} />\r\n                  <Tooltip title=\"Delete\" >\r\n                    <IconButton className=\"delete-icon\" onClick={() => onDeleteItem(id)} >\r\n                      <ClearOutlinedIcon fontSize='small' />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>}\r\n          {checkedItems.length > 0 && unCheckedItems.length > 0 && <hr />}\r\n          {checkedItems && <ul>\r\n            {checkedItems.map(({txt, id}, index) => {\r\n              const isChecked = true;\r\n              return (\r\n                <li key={index}>\r\n                  <input className=\"checkbox\" onChange={(ev) => handleChange(ev, index)}\r\n                    type=\"checkbox\" checked={isChecked} id={`checkbox-${ index }`} />\r\n                  <TextareaAutosize className=\"list-item checked\" minRows={1}\r\n                    value={txt} onClick={() => setIsDetailed(true)}\r\n                    onChange={(ev) => handleItemTextChange(ev, id, isChecked)} />\r\n                  <Tooltip title=\"Delete\">\r\n                    <IconButton className=\"delete-icon\" onClick={() => onDeleteItem(id)}>\r\n                      <ClearOutlinedIcon fontSize='small' />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>}\r\n          {isDetailed && fileType !== \"video\" && type !== \"NoteMedia\" && <div className=\"listItems-container\">\r\n            <label htmlFor=\"list-item\">+</label>\r\n            <input value={newTodoTxt} ref={newTodoRef} autoComplete=\"off\"\r\n              type=\"text\" placeholder=\"List item\" onKeyDown={onAddNewTodo} className=\"new-todo-input\"\r\n              style={{backgroundColor: backgroundColor}} id=\"list-item\" onChange={(e) => setNewTodoTxt(e.target.value)}\r\n            />\r\n          </div>}\r\n        </div>\r\n      </div>\r\n      {(!isShown || isDetailed) && <div className=\"action-button-placeholder\"></div>}\r\n      {(isShown || isDetailed) && <div className={`action-button-container ${ !isDetailed ? 'notDetailed' : '' }`}>\r\n        <ActionButtons title={title} isDetailed={isDetailed} items={items} uploadedImage={uploadedImage}\r\n          noteId={note.id} note={note} closeDetailedMenu={closeDetailedMenu} isImage={updateLoadingStatus}\r\n          updateNotesList={updateNotesList} scrollNoteToView={scrollNoteToView}/>\r\n      </div>}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\n\r\n// import {Image, Video, Transformation } from 'cloudinary-react'\r\n// {/* {fileType === \"video\" && <Video cloudName=\"dqehfu3kx\" effect=\"progressbar:bar:blue:6\" controls publicId={publicId}>\r\n// <Transformation width=\"150\" crop=\"scale\" />\r\n// </Video> } */}","import React, {useState, useEffect, useCallback} from 'react';\r\nimport {NoteTodo} from \"./NoteTodo\";\r\nimport './NotePreview.css';\r\nimport {useWindowSize} from \"./../../../services/useWindowSize\";\r\n\r\nexport const NotePreview = React.forwardRef((props, ref) => {\r\n  const {note, updateLeftMargin, updateNotesList, pinnedNoteIdx, notPinnedNoteIdx, callbackNoteDim, pinnedNoteHeight, unpinnedNoteHeight, scrollNoteToView, updateIsPinnedStatus, deleteMediaUpdate} = props;\r\n  const [isDetailed, setIsDetailed] = useState(false);\r\n  const [noteDimentions, setNoteDimentions] = useState();\r\n  const [pinnedRowStackHeight, setPinnedRowStackHeight] = useState();\r\n  const [unpinnedRowStackHeight, setUnpinnedRowStackHeight] = useState();\r\n  const [translateX, setTranslateX] = useState();\r\n  const [translateY, setTranslateY] = useState();\r\n  const size = useWindowSize();\r\n  const windowWidth = size.width;\r\n  const itemsPerRow = 3;\r\n  const pinnedNotesTopMargin = 40;\r\n  const unpinnedNotesTopMargin = 40;\r\n  const horizontalGap = 40;\r\n  // const {type} = note; //todo add filter by type\r\n  // const {isPinned} = note;\r\n  const pinnedRowsCount = Math.ceil((pinnedNoteIdx + 1) / itemsPerRow); //starts at 1\r\n  const unpinnedRowsCount = Math.ceil((notPinnedNoteIdx + 1) / itemsPerRow); //starts at 1\r\n  const pinnedColumnCount = (pinnedNoteIdx) % itemsPerRow;\r\n  const unpinnedColumnCount = (notPinnedNoteIdx) % itemsPerRow;\r\n  const marginLeft = 0.5 * (windowWidth - (itemsPerRow * noteDimentions?.noteWidth + horizontalGap * (itemsPerRow - 1)));\r\n\r\n  const calculateTransX = useCallback(() => {\r\n    if (note.isPinned) {\r\n      return `${ marginLeft + ((pinnedColumnCount * (noteDimentions?.noteWidth + horizontalGap)) - (horizontalGap / 2)) }px`;\r\n    } else if (!note.isPinned) {\r\n      return `${ marginLeft + ((unpinnedColumnCount * (noteDimentions?.noteWidth + horizontalGap)) - (horizontalGap / 2)) }px`;\r\n    }\r\n  }, [note, marginLeft, pinnedColumnCount, unpinnedColumnCount, noteDimentions, horizontalGap]);\r\n\r\n  const calculateTransY = useCallback(() => {\r\n    if (note.isPinned) {\r\n      return `${ (pinnedNoteIdx < itemsPerRow) ? pinnedNotesTopMargin : pinnedNotesTopMargin + pinnedRowStackHeight }px`;\r\n    }\r\n    else if (!note.isPinned) {\r\n      return `${ (notPinnedNoteIdx < itemsPerRow) ? unpinnedNotesTopMargin : unpinnedNotesTopMargin + unpinnedRowStackHeight }px`;\r\n    }\r\n  }, [note, pinnedNoteIdx, notPinnedNoteIdx, pinnedRowStackHeight, unpinnedRowStackHeight ]);\r\n\r\n  useEffect(() => {\r\n    updateLeftMargin(marginLeft);\r\n    if (pinnedNoteHeight) {\r\n      setPinnedRowStackHeight(pinnedNoteHeight + (pinnedRowsCount - 1) * 20);\r\n    }\r\n    if (unpinnedNoteHeight) {\r\n      setUnpinnedRowStackHeight(unpinnedNoteHeight + (unpinnedRowsCount - 1) * 20);\r\n    }\r\n    setTranslateX(calculateTransX());\r\n    setTranslateY(calculateTransY());\r\n\r\n  }, [isDetailed, updateLeftMargin, pinnedRowsCount, unpinnedRowsCount, unpinnedRowStackHeight, pinnedRowStackHeight, pinnedNoteIdx, callbackNoteDim, notPinnedNoteIdx, calculateTransY, calculateTransX, translateY, translateX, marginLeft, pinnedNoteHeight, unpinnedNoteHeight, note, noteDimentions]);\r\n\r\n  const updateIsDetailedState = (isTodoDetailed) => {\r\n    setIsDetailed(isTodoDetailed);\r\n  };\r\n\r\n  const setDim = (noteDimensions) => {\r\n    callbackNoteDim(noteDimensions);\r\n    setNoteDimentions(noteDimensions);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section ref={ref} className={`note-preview ${ isDetailed ? 'detailed' : '' }`} style={{transform: `translate(${ translateX }, ${ translateY } )`}}>\r\n        {isDetailed && <div className=\"noteOverlay\"></div>}\r\n        <NoteTodo note={note} updateIsDetailedState={updateIsDetailedState} updateNotesList={updateNotesList}\r\n          setNoteDims={setDim} scrollNoteToView={scrollNoteToView} \r\n          updateIsPinnedStatus={updateIsPinnedStatus} deleteMediaUpdate={deleteMediaUpdate}\r\n        />\r\n      </section>\r\n    </>\r\n  );\r\n});\r\n","import React, {useState, useRef, useEffect, useCallback} from 'react';\r\n// import {KeepContext} from '../store/KeepContext';\r\nimport {NotePreview} from \"./NotePreview\";\r\nimport './NotesList.css';\r\n\r\nexport const NotesList = (props) => {\r\n  // const {notes} = useContext(KeepContext);\r\n  const {notes, updateNotesList, isRefreshRequired, scrollToBottom, updateIsPinnedStatus, deleteMediaUpdate} = props;\r\n  const [pinnedContainerHeight, setPinnedContainerHeight] = useState();\r\n  const [unpinnedContainerHeight, setUnpinnedContainerHeight] = useState();\r\n  const [pinnedNotes, setPinnedNotes] = useState([]);\r\n  const [unpinnedNotes, setUnpinnedNotes] = useState([]);\r\n  const [pinnedHeightArr, setPinnedHeightArr] = useState([]);\r\n  const [unpinnedHeightArr, setUnpinnedHeightArr] = useState([]);\r\n  const [marginLeft, setMarginLeft] = useState();\r\n  const pinnedNotesRefs = useRef([]);\r\n  const unpinnedNotesRefs = useRef([]);\r\n  const endRef = useRef();\r\n  const notesListHeight = pinnedContainerHeight + unpinnedContainerHeight + 140;\r\n\r\n  let pinnedHeights = [];\r\n  let unpinnedHeights = [];\r\n  const callbackNoteDim = (index, dim, isPinnedList) => {\r\n    const obj = {index, noteHeight: dim.noteHeight};\r\n    if (isPinnedList) {\r\n      pinnedHeights.push(obj);\r\n      if (pinnedHeights.length === pinnedNotes.length && pinnedHeights.length > 0) {\r\n        setPinnedContainerHeight(calculateStackHeight(pinnedHeights, 3, true));\r\n      }\r\n    } else {\r\n      unpinnedHeights.push(obj);\r\n      if (unpinnedHeights.length === unpinnedNotes.length && unpinnedHeights.length > 0) {\r\n        setUnpinnedContainerHeight(calculateStackHeight(unpinnedHeights, 3, false));\r\n      }\r\n    }\r\n  };\r\n\r\n  const scrollToBtmRef = async () => {\r\n    const scrollTimeout = await setTimeout(() => {\r\n      endRef.current?.scrollIntoView({behavior: 'smooth'});\r\n      clearTimeout(scrollTimeout);\r\n    }, 300);\r\n  };\r\n\r\n  if (scrollToBottom) scrollToBtmRef();\r\n\r\n  const calculateStackHeight = (arr, maxItemsInRow, isPinned) => {\r\n    let colIdx = 0;\r\n    let finishedCol = 0;\r\n    let stackHeightArr = [];\r\n    let preRowItemIdx = 0;\r\n    let stackingH;\r\n    const TotalRowsCount = Math.ceil(arr.length / maxItemsInRow);//start at 1\r\n    for (let rowIdx = 0; rowIdx < TotalRowsCount; rowIdx++) {\r\n      colIdx = rowIdx * maxItemsInRow;\r\n      finishedCol = colIdx + maxItemsInRow;\r\n      finishedCol = finishedCol > arr.length ? arr.length : finishedCol;\r\n      for (colIdx; colIdx < finishedCol; colIdx++) {\r\n        let noteHeight = arr[colIdx]?.noteHeight;\r\n        if (noteHeight && noteHeight !== null) {\r\n          if (colIdx < maxItemsInRow) {\r\n            stackingH = 0;\r\n          } else {\r\n            // columnCount=colIdx % maxItemsInRow;\r\n            preRowItemIdx = colIdx - maxItemsInRow;\r\n            stackingH = stackHeightArr[preRowItemIdx].stackingH + stackHeightArr[preRowItemIdx].noteHeight;\r\n          }\r\n          stackHeightArr.push({index: colIdx, stackingH, noteHeight});\r\n        }\r\n        if ((rowIdx === TotalRowsCount - 1) && (colIdx === arr.length - 1)) {\r\n          isPinned ? setPinnedHeightArr(stackHeightArr) : setUnpinnedHeightArr(stackHeightArr);//todo:update setPinnedHeightArr/setUnpinnedHeightArr names\r\n          const maxStackHeightObj = stackHeightArr.reduce((prev, current) => {\r\n            return (((prev.stackingH + prev.noteHeight) > (current.stackingH + current.noteHeight)) ? prev : current);\r\n          }, 1);\r\n          const maxStackHeight = maxStackHeightObj.stackingH + maxStackHeightObj.noteHeight;\r\n          return maxStackHeight + (32 * (rowIdx + 1));\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const filterNotes = useCallback(() => {\r\n    const filteredPinned = notes.filter(note => {\r\n      return note.isPinned;\r\n    });\r\n    filteredPinned ? setPinnedNotes(filteredPinned) : setPinnedNotes([]);\r\n    const filteredUnpinned = notes.filter(note => {\r\n      return !note.isPinned;\r\n    });\r\n    filteredUnpinned ? setUnpinnedNotes(filteredUnpinned) : setUnpinnedNotes([]);\r\n  }, [notes]);\r\n\r\n  useEffect(() => {\r\n    filterNotes();\r\n  }, [notes, filterNotes, marginLeft, unpinnedHeightArr, scrollToBottom]);\r\n\r\n  \r\n  const handleScroll = async (index, isPinnedRef) => {\r\n    if (isPinnedRef) {\r\n      pinnedNotesRefs.current[index]?.scrollIntoView({\r\n        behavior: 'smooth',\r\n        block: 'start',\r\n      });\r\n    } else {\r\n      unpinnedNotesRefs.current[index]?.scrollIntoView({\r\n        behavior: 'smooth',\r\n        block: 'start',\r\n      });\r\n    }\r\n    const scrollTimeout = await setTimeout(() => {\r\n      isRefreshRequired(true);\r\n      clearTimeout(scrollTimeout);\r\n    }, 1200);\r\n  };\r\n\r\n  return (\r\n    <section >\r\n      <div className=\"notes-list\" style={{height: `${ notesListHeight }px`}}>\r\n        {pinnedNotes.length > 0 && <h1 className=\"pinned-title\" style={{left: `${ marginLeft }px`}}>PINNED</h1>}\r\n        <div className=\"pinnedNote-container\" >\r\n          {pinnedNotes.map((note, index) => {\r\n            const pinnedNoteHeight = pinnedHeightArr[index]?.stackingH;\r\n            return (\r\n              <NotePreview key={note.id} ref={(el) => {pinnedNotesRefs.current[index] = el;}}\r\n                scrollNoteToView={() => handleScroll(index, true)}\r\n                callbackNoteDim={(dim) => callbackNoteDim(index, dim, true)}\r\n                updateLeftMargin={(val) => setMarginLeft(val)}\r\n                pinnedNoteIdx={index} note={note} updateNotesList={updateNotesList}\r\n                pinnedNoteHeight={pinnedNoteHeight} deleteMediaUpdate={deleteMediaUpdate}\r\n                updateIsPinnedStatus={updateIsPinnedStatus} />\r\n            );\r\n          })}\r\n        </div>\r\n        {unpinnedNotes.length > 0 && <h1 className=\"unpinned-title\"\r\n          style={{transform: `translate(${ marginLeft }px, ${ pinnedContainerHeight }px)`}} >OTHERS</h1>}\r\n        <div className=\"unpinnedNote-container\"\r\n          style={{transform: `translate(${ 0 }px, ${ pinnedContainerHeight }px)`}}>\r\n          {unpinnedNotes.map((note, index) => {\r\n            const unpinnedNoteHeight = unpinnedHeightArr[index]?.stackingH;\r\n            return (\r\n              <NotePreview key={note.id} ref={(el) => {unpinnedNotesRefs.current[index] = el;}}\r\n                scrollNoteToView={() => handleScroll(index, false)}\r\n                callbackNoteDim={(dim) => callbackNoteDim(index, dim, false)}\r\n                updateLeftMargin={(val) => setMarginLeft(val)}\r\n                notPinnedNoteIdx={index} note={note} updateNotesList={updateNotesList}\r\n                unpinnedNoteHeight={unpinnedNoteHeight} deleteMediaUpdate={deleteMediaUpdate}\r\n                updateIsPinnedStatus={updateIsPinnedStatus} />\r\n                );\r\n          })}\r\n        </div>\r\n      </div>\r\n      <div className=\"endRef\" ref={endRef}></div>\r\n    </section>\r\n  );\r\n};\r\n\r\n\r\n/* <section >\r\n  <h1>PINNED</h1>\r\n  <div className=\"notes-list\">\r\n  {pinnedNotes.map(note => {\r\n      return (\r\n        <NotePreview key={note.id} note={note} updateNotesList={updateNotesList} />\r\n        );\r\n    })}\r\n  </div>\r\n  <h1>OTHERS</h1>\r\n  <div className=\"notes-list\">\r\n  {notPinnedNotes.map(note => {\r\n      return (\r\n        <NotePreview key={note.id} note={note} updateNotesList={updateNotesList} />\r\n      );\r\n    })}\r\n    </div>\r\n</section> */\r\n\r\n\r\n// const filteredPinned = notes.filter(note => {\r\n  //   return note.isPinned;\r\n  // });\r\n// console.log(filteredPinned);\r\n// filteredPinned ? setPinnedNotes(filteredPinned) : setPinnedNotes([]);\r\n// const filteredUnpinned = notes.filter(note => {\r\n  //   return !note.isPinned;\r\n// });\r\n// filteredUnpinned ? setUnpinnedNotes(filteredUnpinned) : setUnpinnedNotes([]);\r\n// const updateNotes = useCallback(() => {\r\n  //   setPinnedNotes(notes.filter(note => note.isPinned));\r\n//   setUnpinnedNotes(notes.filter(note => !note.isPinned));\r\n// }, [notes]);\r\n// updateNotes();\r\n\r\n// const calculateStackingHeight = (arr, maxItemsInRow,isPinned) => {\r\n//   console.log(arr);\r\n//   let rowMaxHeight = 0;\r\n//   let stackingHeight = 0;\r\n//   let colIdx = 0;\r\n//   let finishedCol = 0;\r\n//   let maxHeightArr=[]\r\n//   const TotalRowsCount = Math.ceil(arr.length / maxItemsInRow);\r\n//   for (let rowIdx = 0; rowIdx < TotalRowsCount; rowIdx++) {\r\n  //     stackingHeight += rowMaxHeight;\r\n//     if (rowMaxHeight > 0) {\r\n//       maxHeightArr.push({rowIdx: rowIdx ,prevRowMaxHeight :rowMaxHeight, prevRowsStack:stackingHeight})\r\n//     }\r\n//     rowMaxHeight = 0;\r\n//     colIdx = rowIdx * maxItemsInRow;\r\n//     finishedCol = colIdx + maxItemsInRow;\r\n//     finishedCol = finishedCol > arr.length ? arr.length : finishedCol;\r\n//     console.log('colIdx', colIdx, 'finishedCol', finishedCol);\r\n//     for (colIdx; colIdx < finishedCol; colIdx++) {\r\n//       console.log('arr[colIdx]', arr[colIdx]);\r\n//       let noteHeight = arr[colIdx]?.noteHeight;\r\n//       if (noteHeight && noteHeight !== null) {\r\n  //         rowMaxHeight = noteHeight > rowMaxHeight ? noteHeight : rowMaxHeight;\r\n//       }\r\n//       if ((rowIdx === TotalRowsCount - 1) && (colIdx === arr.length - 1)) {\r\n//         // maxHeightArr.push({rowIdx, rowMaxHeight})\r\n//         isPinned ? setPinnedRowsMaxHeightArr(maxHeightArr) : setUnpinnedRowsMaxHeightArr(maxHeightArr)\r\n//         return stackingHeight + rowMaxHeight + (32 * (rowIdx+1));\r\n//       }\r\n//     }\r\n//   }\r\n// };\r\n\r\n// const updateIsPinnedStatus = (noteId, isPinned) => {\r\n//   console.log('isPinned',isPinned,'noteId',noteId);\r\n//   if (isPinned) {\r\n//     const noteIdx = pinnedNotes.findIndex(note => note.id === noteId);\r\n//     let updatedUnpinnedNotes = [...unpinnedNotes];\r\n//     updatedUnpinnedNotes = [...updatedUnpinnedNotes, pinnedNotes[noteIdx]];\r\n//     setUnpinnedNotes(updatedUnpinnedNotes);\r\n//     const removedItem=pinnedHeights.find(obj=>obj.index===noteIdx)\r\n//     pinnedHeights=pinnedHeights.filter(obj=>obj.index!==noteIdx)\r\n//     setPinnedContainerHeight(calculateStackHeight(pinnedHeights, 3, true))\r\n\r\n//     let updatedPinnedNotes = [...pinnedNotes];\r\n//     updatedPinnedNotes = updatedPinnedNotes.filter(note => note.id !== noteId);\r\n//     setPinnedNotes(updatedPinnedNotes);\r\n//     removedItem.index=unpinnedHeights.length;\r\n//     unpinnedHeights.push(removedItem)\r\n//     setUnpinnedContainerHeight(calculateStackHeight(unpinnedHeights, 3, false));\r\n//   } else {\r\n//     const noteIdx = unpinnedNotes.findIndex(note => note.id === noteId);\r\n//     let updatedpinnedNotes = [...pinnedNotes];\r\n//     updatedpinnedNotes = [...updatedpinnedNotes, unpinnedNotes[noteIdx]];\r\n//     setPinnedNotes(updatedpinnedNotes);\r\n//     // const removedItem = unpinnedHeights.find(obj => obj.index === noteIdx)\r\n//     // unpinnedHeights = unpinnedHeights.filter(obj => obj.index !== noteIdx)\r\n//     // setUnpinnedContainerHeight(calculateStackHeight(unpinnedHeights, 3, false));\r\n\r\n//     let updatedUnpinnedNotes = [...unpinnedNotes];\r\n//     updatedUnpinnedNotes = updatedUnpinnedNotes.filter(note => note.id !== noteId);\r\n//     setUnpinnedNotes(updatedUnpinnedNotes);\r\n//     // removedItem.index = pinnedHeights.length;\r\n//     // pinnedHeights.push(removedItem)\r\n//     // setPinnedContainerHeight(calculateStackHeight(pinnedHeights, 3, true))\r\n//   }\r\n// };","import React, {useState, useEffect, useRef} from 'react';\r\n// import KeepContextProvider from '../store/KeepContext';\r\nimport {NotesList} from \"./../cmps/NotesList\";\r\nimport {Filter} from '../../../cmps/Filter';\r\nimport {keepService} from \"./../services/keepService\";\r\nimport {NoteTodo} from '../cmps/NoteTodo';\r\nimport {useWindowSize} from '../../../services/useWindowSize';\r\nimport {CanvasDrawing} from '../cmps/CanvasDrawing';\r\nimport {UploadImage} from '../cmps/UploadImage';\r\nimport './KeepApp.css';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport CheckBoxOutlinedIcon from '@mui/icons-material/CheckBoxOutlined';\r\nimport BrushOutlinedIcon from '@mui/icons-material/BrushOutlined';\r\nimport {useClickOutside} from \"./../../../cmps/useClickOutside\";\r\n\r\nexport const KeepApp = () => {\r\n    const [notesData, setNotesData] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const [filteredNotes, setFilteredNotes] = useState([]);\r\n    const [isNewList, setIsNewList] = useState(false);\r\n    const [newNoteData, setNewNoteData] = useState({});\r\n    const [isDetailed, setIsDetailed] = useState(false);\r\n    const [isDrawMenuOpen, setIsDrawMenuOpen] = useState(false);\r\n    const [newNoteId, setNewNoteId] = useState('');\r\n    const [newNoteUploadedImg, setNewNoteUploadedImg] = useState('');\r\n    const [isLoadingImg, setIsLoadingImg] = useState(false);\r\n    const [isDataUpdated, setIsDataUpdated] = useState(true);\r\n    const [scrollToBottom, setScrollToBottom] = useState(false);\r\n    const footerRef = useRef();\r\n    const size = useWindowSize();\r\n    const windowWidth = size.width;\r\n    const newListIconLeftDis = windowWidth > 720 ? 0.58 * windowWidth : 0.56 * windowWidth;\r\n    let searchContainerRef = useClickOutside(() => {\r\n        setIsDrawMenuOpen(false);\r\n    });\r\n\r\n    const isImageLoad = ({isLoaded}) => {\r\n        setIsLoadingImg(isLoaded);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchNotes = async () => {\r\n            const notes = await keepService.query();\r\n            notes ? setNotesData(notes) : setNotesData([]);\r\n        };\r\n        fetchNotes();\r\n    }, [notesData, filteredNotes, isDataUpdated, windowWidth, isLoadingImg, size, searchTerm, isNewList, newNoteData, isDetailed]);\r\n\r\n    const isRefreshRequired = (val) => {\r\n        if (val) {\r\n            setIsDataUpdated(false);\r\n            const refreshTimeout = setTimeout(() => {\r\n                setIsDataUpdated(true);\r\n                clearTimeout(refreshTimeout);\r\n            }, 100);\r\n        }\r\n    };\r\n\r\n    const hideNewTodo = async (isAddingFinished) => {\r\n        if (isAddingFinished) {\r\n            const notes = await keepService.query();\r\n            notes ? setNotesData(notes) : setNotesData([]);\r\n            setIsNewList(false);\r\n        }\r\n    };\r\n\r\n    const searchHandler = async (searchTerm) => {\r\n        setSearchTerm(searchTerm);\r\n        if (searchTerm !== \"\") {\r\n            const notes = await keepService.filterNotes(searchTerm);\r\n            setFilteredNotes(notes);\r\n        }\r\n    };\r\n\r\n    const onAddList = async () => {\r\n        const newList = await keepService.addNewNote('NoteTodo');\r\n        setNewNoteData(newList);\r\n        setIsNewList(true);\r\n        setIsDetailed(true);\r\n    };\r\n\r\n    const setDim = (noteDimensions) => {\r\n        console.log('setdim after new note');\r\n    };\r\n\r\n    const onAddDraw = async () => {\r\n        if (isDrawMenuOpen) {\r\n            setIsDrawMenuOpen(false);\r\n            return;\r\n        }\r\n        const newNoteWithDraw = await keepService.addNewNote('NoteMedia');\r\n        const {id, canvasDrawing: {uploadedImage}} = newNoteWithDraw;\r\n        setNewNoteId(id);\r\n        setNewNoteUploadedImg(uploadedImage);\r\n        setNewNoteData(newNoteWithDraw);\r\n        setIsDrawMenuOpen(true);\r\n    };\r\n\r\n    const updateIsDetailedState = (isTodoDetailed) => {\r\n        setIsDetailed(isTodoDetailed);\r\n        const isNewIncluded = notesData.includes(newNoteData);\r\n        if (isNewIncluded && !isDetailed) hideNewTodo(true);\r\n    };\r\n\r\n    const updateNotesList = (notes) => {\r\n        notes ? setNotesData(notes) : setNotesData(notesData);\r\n    };\r\n\r\n    const newImgUploaded = async () => {\r\n        setIsDataUpdated(false);\r\n        const scrollTimeout = await setTimeout(() => {\r\n            setScrollToBottom(true);\r\n            clearTimeout(scrollTimeout);\r\n        }, 1000);\r\n        const refreshTimeout = await setTimeout(() => {\r\n            setIsDataUpdated(true);\r\n            clearTimeout(refreshTimeout);\r\n        }, 2000);\r\n    };\r\n\r\n    const newCanvasUploaded = (val) => {\r\n        if (val) {\r\n            isRefreshRequired(true);\r\n        }\r\n        const scrollTimeout = setTimeout(() => {\r\n            setScrollToBottom(true);\r\n            clearTimeout(scrollTimeout);\r\n        }, 300);\r\n    };\r\n\r\n    const updateIsPinnedStatus = (noteId, isPinned) => {\r\n        const noteIdx = notesData.findIndex(note => note.id === noteId);\r\n        let updatedNotes = [...notesData];\r\n        updatedNotes[noteIdx].isPinned = !isPinned;\r\n        setNotesData(updatedNotes);\r\n        setIsDataUpdated(false);\r\n        const refreshTimeout = setTimeout(() => {\r\n            setIsDataUpdated(true);\r\n            clearTimeout(refreshTimeout);\r\n        }, 1000);\r\n    };\r\n    \r\n    const deleteMediaUpdate=()=>{\r\n        setIsDataUpdated(false);\r\n        const refreshTimeout = setTimeout(() => {\r\n            setIsDataUpdated(true);\r\n            clearTimeout(refreshTimeout);\r\n        }, 1000);\r\n    }\r\n\r\n    return (\r\n        <section className=\"keep-app\">\r\n            {/* <KeepContextProvider> */}\r\n            <div ref={searchContainerRef} className=\"search-container\">\r\n                <Tooltip title=\"New list\">\r\n                    <IconButton onClick={onAddList} style={{left: `${ newListIconLeftDis }px`, position: 'absolute'}}>\r\n                        <CheckBoxOutlinedIcon />\r\n                    </IconButton>\r\n                </Tooltip>\r\n                <Tooltip title=\"New note with drawing\">\r\n                    <IconButton onClick={onAddDraw} style={{left: `${ windowWidth > 720 ? (newListIconLeftDis + 40) : (newListIconLeftDis + 40) }px`, position: 'absolute'}}>\r\n                        <BrushOutlinedIcon />\r\n                    </IconButton>\r\n                </Tooltip>\r\n                <UploadImage newImgUploaded={newImgUploaded} isBgImage={true} isImageLoad={isImageLoad} newListIconLeftDis={newListIconLeftDis} isMainMenuUpload={true} />\r\n                <Filter term={searchTerm} searchKeyword={searchHandler} isNote={true} newListIconLeftDis={newListIconLeftDis} />\r\n                {newNoteData && isDetailed && <div className=\"noteOverlay\"></div>}\r\n                {isNewList && newNoteData && <NoteTodo note={newNoteData} setNoteDims={setDim} isNewList={isNewList} updateIsDetailedState={updateIsDetailedState} />}\r\n                {isDrawMenuOpen && <div className=\"noteOverlay\" onClick={() => setIsDrawMenuOpen(false)}></div>}\r\n                {newNoteData && isDrawMenuOpen && <CanvasDrawing newCanvasUploaded={newCanvasUploaded} noteId={newNoteId} isDetailed={true} isNewNoteWithDrw={true}\r\n                    uploadedImage={newNoteUploadedImg} isRefreshRequired={isRefreshRequired} />}\r\n            </div>\r\n            {isLoadingImg && <h3>Loading...</h3>}\r\n            {(filteredNotes || notesData) && !isDetailed && !isLoadingImg && isDataUpdated && <NotesList notes={(searchTerm.length > 0) ? filteredNotes : notesData}\r\n                scrollToBottom={scrollToBottom} updateNotesList={updateNotesList} isRefreshRequired={isRefreshRequired}\r\n                updateIsPinnedStatus={updateIsPinnedStatus} deleteMediaUpdate={deleteMediaUpdate} />}\r\n            {isLoadingImg && <div className=\"notesList-placeholder\"></div>}\r\n            <div className=\"footer\" ref={footerRef}></div>\r\n            {/* </KeepContextProvider> */}\r\n        </section>\r\n    );\r\n};\r\n","import {\n\tBrowserRouter as Router,\n\tRoutes,\n\tRoute,\n\tNavigate\n} from 'react-router-dom';\nimport { HomePage } from './pages/HomePage';\nimport { About } from './pages/About';\nimport { MainNav } from './cmps/MainNav';\nimport { Footer } from './cmps/Footer';\nimport { EmailApp } from './apps/Email/EmailApp';\nimport { EmailDetails } from './apps/Email/cmps/EmailDetails';\nimport { UserMsg } from './cmps/UserMsg';\nimport { BookApp } from './apps/Book/BookApp';\nimport { BookDetails } from './apps/Book/cmps/BookDetails';\nimport { AddReview } from './apps/Book/cmps/AddReview';\nimport { BookReviews } from './apps/Book/cmps/BookReviews';\nimport { KeepApp } from './apps/Keep/pages/KeepApp';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\nimport { faStar as faStarRegular } from '@fortawesome/free-regular-svg-icons';\nimport { faStar as faStarSolid } from '@fortawesome/free-solid-svg-icons';\nimport './index.css';\nexport default function App() {\n\tlibrary.add(fab, faStarRegular, faStarSolid);\n\treturn (\n\t\t<Router>\n\t\t\t<section className=\"appsus\">\n\t\t\t\t<MainNav />\n\t\t\t\t<UserMsg />\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route path=\"/\" element={<Navigate to=\"/homepage\" />}></Route>\n\t\t\t\t\t<Route path=\"/homepage\" element={<HomePage />} />\n\t\t\t\t\t<Route path=\"/about\" element={<About />} />\n\t\t\t\t\t<Route path=\"/keep\" element={<KeepApp />} />\n\t\t\t\t\t<Route path=\"/book\" element={<BookApp />} />\n\t\t\t\t\t<Route path=\"/book/:bookId\" element={<BookDetails />} />\n\t\t\t\t\t<Route path=\"/book/:bookId/addreview\" element={<AddReview />} />\n\t\t\t\t\t<Route path=\"/book/:bookId/reviews\" element={<BookReviews />} />\n\t\t\t\t\t<Route path=\"/email\" element={<EmailApp />}>\n\t\t\t\t\t\t<Route path=\"/email/starred\" element={<EmailApp />} />\n\t\t\t\t\t\t<Route path=\"/email/sent\" element={<EmailApp />} />\n\t\t\t\t\t\t<Route path=\"/email/drafts\" element={<EmailApp />} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/email/:emailId\" element={<EmailDetails />} />\n\t\t\t\t</Routes>\n\t\t\t\t<Footer />\n\t\t\t</section>\n\t\t</Router>\n\t);\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}